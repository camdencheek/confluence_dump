<h1 id="caInt0017Whyismystudystuckinthe&#39;Processing&#39;statushoursafterIdeployedit-Question:Studystuckinthe&#39;Processing&#39;statushoursafterIdeployedit?">
  Question: Study stuck in the &#39;Processing&#39; status hours after I deployed it?
</h1>
Topic: caIntegrator usageRelease: all versionsDate entered: 2/22/2012
<h2 id="caInt0017Whyismystudystuckinthe&#39;Processing&#39;statushoursafterIdeployedit-DetailsAbouttheQuestion">
  Details About the Question
</h2>
When you deploy a study, you may find its status showing as &#39;Processing&#39; on the &#39;Manage Studies&#39; page hours or even days later (see screenshot below with study status highlighted in red). The status may remain stuck like this indefinitely, regardless of how fast your caIntegrator server is.
<img alt="screenshot illustrating issue" src="https://wiki.nci.nih.gov/download/attachments/embedded-page/caIntegrator/caInt%200017%20-%20Why%20is%20my%20study%20stuck%20in%20the%20&#39;Processing&#39;%20status%20hours%20after%20I%20deployed%20it/HeapSpaceScreenshot.jpg?api=v2">
<h2 id="caInt0017Whyismystudystuckinthe&#39;Processing&#39;statushoursafterIdeployedit-Answer">
  Answer
</h2>
The most common cause of this problem is an out of memory error caused by limited heap space in the Java Virtual Machine on the JBoss server instance running caIntegrator. If a study deployment fails due to this error, caIntegrator does not notify the user explicitly and instead logs the error in the server.log file located at the following path:[MATKC:installation root]\caintegrator2\jboss-4.0.5.GA\server\default\logNote that the study&#39;s status will continue to show as &#39;Processing&#39; on the &#39;Manage Studies&#39; page even after the deployment has failed and the error has been logged.NoteStudies may show a Status error indicating a timeout after 48 hours when in fact the study is still properly deploying, As a result, a study showing a timeout error should not be deleted or edited. In such a case, the server log correctly indicates that no error or failure has occurred.WarningcaIntegrator is not able to deploy studies using Affymetrix CEL files. caIntegrator is able to deploy studies using Affymetrix CHP files loaded as parsed data in caArray or Affymetrix TXT files loaded as imported (not parsed) data in caArray.In Windows, the heap size is set in the &#39;run.bat&#39; file located at the following path:[MATKC:installation root]\caintegrator2\jboss-4.0.5.GA\binIn Linux, the heap size is set in the &#39;run.conf&#39; file located at the following path:[MATKC:installation root]/caintegrator2/jboss-4.0.5.GA/binBy default, the heap size, which is dynamically allocated, is set at a minimum of 256 MB and a maximum of 512 MB, which is not nearly enough when deploying studies with large datasets. For instructions on how to modify the heap size by editing &#39;run.bat&#39;, please refer to the following page from the caIntegrator local installation guide:
<a href="https://wiki.nci.nih.gov/display/caIntegrator/caIntegrator+1.3+Local+Installation+Guide#caIntegrator1.3LocalInstallationGuide-ConfiguringJBoss" rel="nofollow">
  https://wiki.nci.nih.gov/display/caIntegrator/caIntegrator+1.3+Local+Installation+Guide#caIntegrator1.3LocalInstallationGuide-ConfiguringJBoss
</a>
The minimum heap space should be set to 4096 MB (4 GB), assuming that your caIntegrator server has this amount of physical memory available.The recommended heap size varies greatly depending on the size of your dataset and the amount of available physical memory on your caIntegrator server. For reference, for a dataset containing 500 Affymetrix CEL files that are approximately 16GB in combined size, the minimum heap size required for the study deployment to complete successfully is 15 GB.Ideally, caIntegrator should be run on a dedicated server, with the heap size set as close as possible to the amount of available physical memory without destabilizing the underlying operating system.The tables below shows the results of extensive testing of caIntegrator study deployments on different hardware configurations with varying amounts of heap space.REFERENCE INFORMATION:
<ul>
  <li>
    Trials #1 and #2 were performed on a Dell Optiplex 755 workstation running Windows XP Professional
  </li>
  <li>
    The workstation runs on an Intel Core2 Quad Q6600 processor at 2.40 Ghz
  </li>
  <li>
    The total installed physical memory is 3.25 GB, with approximately 1.75 GB available at the time of testing before launching caIntegrator
  </li>
</ul>
Trial #1  (The heap space setting as specified in run.bat is -Xms256m -Xmx512m)
<table>
  <tbody>
    <tr>
      <th>
        # of samples mapped
      </th>
      <th>
        Total size of samples (MB, uncompressed)
      </th>
      <th>
        Deployment Status
      </th>
      <th>
        Time to deploy or fail (minutes:seconds)
      </th>
      <td></td>
    </tr>
    <tr>
      <td>
        1
      </td>
      <td>
        2
      </td>
      <td>
        SUCCESS
      </td>
      <td>
        1:00
      </td>
      <td>
        * time not exact
      </td>
    </tr>
    <tr>
      <td>
        2
      </td>
      <td>
        4
      </td>
      <td>
        SUCCESS
      </td>
      <td>
        0:47
      </td>
      <td>
        * time not exact
      </td>
    </tr>
    <tr>
      <td>
        4
      </td>
      <td>
        7.8
      </td>
      <td>
        SUCCESS
      </td>
      <td>
        1:15
      </td>
      <td>
        * time not exact
      </td>
    </tr>
    <tr>
      <td>
        8
      </td>
      <td>
        15.5
      </td>
      <td>
        SUCCESS
      </td>
      <td>
        1:50
      </td>
      <td>
        * time not exact
      </td>
    </tr>
    <tr>
      <td>
        16
      </td>
      <td>
        31.2
      </td>
      <td>
        SUCCESS
      </td>
      <td>
        3:15
      </td>
      <td></td>
    </tr>
    <tr>
      <td>
        64
      </td>
      <td>
        124.8
      </td>
      <td>
        SUCCESS
      </td>
      <td>
        13:55
      </td>
      <td></td>
    </tr>
    <tr>
      <td>
        128
      </td>
      <td>
        249.6
      </td>
      <td>
        FAIL
      </td>
      <td>
        21:16
      </td>
      <td></td>
    </tr>
    <tr>
      <td>
        192
      </td>
      <td>
        374.4
      </td>
      <td>
        FAIL
      </td>
      <td>
        23:47
      </td>
      <td></td>
    </tr>
    <tr>
      <td>
        224
      </td>
      <td>
        436.8
      </td>
      <td>
        FAIL
      </td>
      <td>
        25:44
      </td>
      <td></td>
    </tr>
    <tr>
      <td>
        256
      </td>
      <td>
        499.2
      </td>
      <td>
        FAIL
      </td>
      <td>
        1h 5:02
      </td>
      <td></td>
    </tr>
  </tbody>
</table>
Trial #  2 (The heap space setting as specified in run.bat is -Xms256m -Xmx1024m)
<table>
  <tbody>
    <tr>
      <th>
        # of samples mapped
      </th>
      <th>
        Total size of samples (MB, uncompressed)
      </th>
      <th>
        Deployment Status
      </th>
      <th>
        Time to deploy or fail (minutes:seconds)
      </th>
    </tr>
    <tr>
      <td>
        1
      </td>
      <td>
        2
      </td>
      <td>
        SUCCESS
      </td>
      <td>
        0:10
      </td>
    </tr>
    <tr>
      <td>
        4
      </td>
      <td>
        7.8
      </td>
      <td>
        SUCCESS
      </td>
      <td>
        0:21
      </td>
    </tr>
    <tr>
      <td>
        16
      </td>
      <td>
        31.2
      </td>
      <td>
        SUCCESS
      </td>
      <td>
        1:08
      </td>
    </tr>
    <tr>
      <td>
        64
      </td>
      <td>
        124.8
      </td>
      <td>
        SUCCESS
      </td>
      <td>
        5:12
      </td>
    </tr>
    <tr>
      <td>
        128
      </td>
      <td>
        249.6
      </td>
      <td>
        SUCCESS
      </td>
      <td>
        12:48
      </td>
    </tr>
    <tr>
      <td>
        192
      </td>
      <td>
        374.4
      </td>
      <td>
        SUCCESS
      </td>
      <td>
        21:35
      </td>
    </tr>
    <tr>
      <td>
        224
      </td>
      <td>
        436.8
      </td>
      <td>
        FAIL
      </td>
      <td>
        27:59
      </td>
    </tr>
    <tr>
      <td>
        256
      </td>
      <td>
        499.2
      </td>
      <td>
        FAIL
      </td>
      <td>
        34:08
      </td>
    </tr>
  </tbody>
</table>
<ul>
  <li>
    Trial #3 was performed on a Dell Poweredge server running Linux
  </li>
  <li>
    The server runs on a quad-core 2.33 Ghz Intel(R) Xeon(R) 5148 CPU
  </li>
  <li>
    The total installed physical memory is 16 GB
  </li>
</ul>
Trial #3  (The heap space setting as specified in run.bat is -Xms2048m -Xmx2048m)
<table>
  <tbody>
    <tr>
      <th>
        # of samples mapped
      </th>
      <th>
        Total size of samples (MB, uncompressed)
      </th>
      <th>
        Deployment Status
      </th>
      <th>
        Time to deploy or fail (minutes:seconds)
      </th>
    </tr>
    <tr>
      <td>
        192
      </td>
      <td>
        374.4
      </td>
      <td>
        SUCCESS
      </td>
      <td>
        18:12
      </td>
    </tr>
    <tr>
      <td>
        208
      </td>
      <td>
        405.6
      </td>
      <td>
        SUCCESS
      </td>
      <td>
        41:16
      </td>
    </tr>
    <tr>
      <td>
        224
      </td>
      <td>
        436.8
      </td>
      <td>
        SUCCESS
      </td>
      <td>
        27:21
      </td>
    </tr>
    <tr>
      <td>
        256
      </td>
      <td>
        499.2
      </td>
      <td>
        SUCCESS
      </td>
      <td>
        33:13
      </td>
    </tr>
    <tr>
      <td>
        512
      </td>
      <td>
        998.4
      </td>
      <td>
        FAIL
      </td>
      <td>
        4h 47:23
      </td>
    </tr>
  </tbody>
</table>
<h2 id="caInt0017Whyismystudystuckinthe&#39;Processing&#39;statushoursafterIdeployedit-Haveacomment?">
  Have a comment?
</h2>
Please leave your comment in the
<a href="https://cabig-kc.nci.nih.gov/Molecular/forums/viewtopic.php?f=23&amp;t=461" rel="nofollow">
  caIntegrator End User Forum
</a>
.