Contents of this Page
<ul>
  <li>
    <a href="#LexEVS6.xValueSetDetailedDesign-ValueSetDefinition" rel="nofollow">
      Value Set Definition
    </a>
    <ul>
      <li>
        <a href="#LexEVS6.xValueSetDetailedDesign-ComparedtoISO11179Model" rel="nofollow">
          Compared to ISO 11179 Model
        </a>
      </li>
      <li>
        <a href="#LexEVS6.xValueSetDetailedDesign-ComparedtoHL7ValueSet" rel="nofollow">
          Compared to HL7 Value Set
        </a>
      </li>
    </ul>
  </li>
  <li>
    <a href="#LexEVS6.xValueSetDetailedDesign-ValueSetDefinitionLogicalModel" rel="nofollow">
      Value Set Definition Logical Model
    </a>
    <ul>
      <li>
        <a href="#LexEVS6.xValueSetDetailedDesign-ValueSetDefinitionlogicalModeldescription" rel="nofollow">
          Value Set Definition logical Model description
        </a>
        <ul>
          <li>
            <a href="#LexEVS6.xValueSetDetailedDesign-ValueSetDefinition.1" rel="nofollow">
              Value Set Definition
            </a>
            <ul>
              <li>
                <a href="#LexEVS6.xValueSetDetailedDesign-AttributesofValueSetDefinition" rel="nofollow">
                  Attributes of Value Set Definition
                </a>
              </li>
            </ul>
          </li>
          <li>
            <a href="#LexEVS6.xValueSetDetailedDesign-DefinitionEntry" rel="nofollow">
              Definition Entry
            </a>
            <ul>
              <li>
                <a href="#LexEVS6.xValueSetDetailedDesign-AttributesofDefinitionEntry" rel="nofollow">
                  Attributes of Definition Entry
                </a>
              </li>
            </ul>
          </li>
          <li>
            <a href="#LexEVS6.xValueSetDetailedDesign-CodingSchemeReference" rel="nofollow">
              Coding Scheme Reference
            </a>
            <ul>
              <li>
                <a href="#LexEVS6.xValueSetDetailedDesign-AttributesofCodingSchemeReference" rel="nofollow">
                  Attributes of Coding Scheme Reference
                </a>
              </li>
            </ul>
          </li>
          <li>
            <a href="#LexEVS6.xValueSetDetailedDesign-ValueSetReferences" rel="nofollow">
              Value Set References
            </a>
            <ul>
              <li>
                <a href="#LexEVS6.xValueSetDetailedDesign-AttributesofValueSetReference" rel="nofollow">
                  Attributes of Value Set Reference
                </a>
              </li>
            </ul>
          </li>
          <li>
            <a href="#LexEVS6.xValueSetDetailedDesign-EntityReference" rel="nofollow">
              Entity Reference
            </a>
            <ul>
              <li>
                <a href="#LexEVS6.xValueSetDetailedDesign-AttributesofEntityReference" rel="nofollow">
                  Attributes of Entity Reference
                </a>
              </li>
            </ul>
          </li>
          <li>
            <a href="#LexEVS6.xValueSetDetailedDesign-PropertyReference" rel="nofollow">
              Property Reference
            </a>
            <ul>
              <li>
                <a href="#LexEVS6.xValueSetDetailedDesign-AttributesofPropertyReference" rel="nofollow">
                  Attributes of Property Reference
                </a>
              </li>
            </ul>
          </li>
          <li>
            <a href="#LexEVS6.xValueSetDetailedDesign-PropertyMatchValue" rel="nofollow">
              Property Match Value
            </a>
            <ul>
              <li>
                <a href="#LexEVS6.xValueSetDetailedDesign-AttributesofPropertyMatchValue" rel="nofollow">
                  Attributes of Property Match Value
                </a>
              </li>
            </ul>
          </li>
          <li>
            <a href="#LexEVS6.xValueSetDetailedDesign-DefinitionOperator" rel="nofollow">
              Definition Operator
            </a>
            <ul>
              <li>
                <a href="#LexEVS6.xValueSetDetailedDesign-AttributesofDefinitionOperator" rel="nofollow">
                  Attributes of Definition Operator
                </a>
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <a href="#LexEVS6.xValueSetDetailedDesign-PossibleFormsofValueSetDefinitions" rel="nofollow">
      Possible Forms of Value Set Definitions
    </a>
  </li>
  <li>
    <a href="#LexEVS6.xValueSetDetailedDesign-ExamplesofValueSetDefinitions" rel="nofollow">
      Examples of Value Set Definitions
    </a>
    <ul>
      <li>
        <a href="#LexEVS6.xValueSetDetailedDesign-Example1" rel="nofollow">
          Example 1
        </a>
      </li>
      <li>
        <a href="#LexEVS6.xValueSetDetailedDesign-Example2" rel="nofollow">
          Example 2
        </a>
      </li>
    </ul>
  </li>
  <li>
    <a href="#LexEVS6.xValueSetDetailedDesign-ValueSetDefinitionResolution" rel="nofollow">
      Value Set Definition Resolution
    </a>
  </li>
  <li>
    <a href="#LexEVS6.xValueSetDetailedDesign-ValueSetDefinitionVersions" rel="nofollow">
      Value Set Definition Versions
    </a>
  </li>
  <li>
    <a href="#LexEVS6.xValueSetDetailedDesign-ValueSetServices" rel="nofollow">
      Value Set Services
    </a>
  </li>
  <li>
    <a href="#LexEVS6.xValueSetDetailedDesign-ValueSetGUI" rel="nofollow">
      Value Set GUI
    </a>
  </li>
</ul>
<table>
  <tbody>
    <tr>
      <th>
        LexEVS Value Set Links
      </th>
    </tr>
    <tr>
      <td>
        <ul>
          <li>
            <a href="https://wiki.nci.nih.gov/pages/viewpage.action?pageId=62427293" rel="nofollow">
              Value Set Guide Main Page
            </a>
            <ul>
              <li>
                <a href="https://wiki.nci.nih.gov/pages/viewpage.action?pageId=62427292" rel="nofollow">
                  Value Set Design
                </a>
              </li>
              <li>
                <a href="https://wiki.nci.nih.gov/pages/viewpage.action?pageId=62427340" rel="nofollow">
                  Value Set Service API
                </a>
              </li>
              <li>
                <a href="https://wiki.nci.nih.gov/pages/viewpage.action?pageId=62427291" rel="nofollow">
                  Pick List Design
                </a>
              </li>
              <li>
                <a href="https://wiki.nci.nih.gov/pages/viewpage.action?pageId=62427365" rel="nofollow">
                  Pick List Service API
                </a>
              </li>
              <li>
                <a href="https://wiki.nci.nih.gov/pages/viewpage.action?pageId=62427329" rel="nofollow">
                  Value Set GUI
                </a>
              </li>
            </ul>
          </li>
          <li>
            <a href="https://wiki.nci.nih.gov/pages/viewpage.action?pageId=62427334" rel="nofollow">
              Programmer&#39;s Guide Main Page
            </a>
          </li>
          <li>
            <a href="https://wiki.nci.nih.gov/pages/viewpage.action?pageId=69730353" rel="nofollow">
              LexEVS 6.0 Main Page
            </a>
          </li>
          <li>
            <a href="https://wiki.nci.nih.gov/pages/viewpage.action?pageId=62427448" rel="nofollow">
              LexEVS Current Release
            </a>
          </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
<h2 id="LexEVS6.xValueSetDetailedDesign-ValueSetDefinition">
  Value Set Definition
</h2>
Value Set Definition with in the LexGrid logical model defines the contents of Value Set. The contents are concept codes defined in referencing Code System. Value Set can contain concept codes from one or more Code Systems.
<h3 id="LexEVS6.xValueSetDetailedDesign-ComparedtoISO11179Model">
  Compared to ISO 11179 Model
</h3>
The LexGrid &#34;value set definition&#34; is analogous to the 11179 enumerated conceptual domain. We support the notion of an intrinsically defined enumerated domain, so the 11179 enumerated conceptual domain is really the output of the resolve value set definition function.Value meanings are identified by entity codes within a given code system. The mapping between permissible values and value meanings is currently accomplished via a mapping association, where we treat the set of permissible values as a &#34;mini code system&#34;. An example of how this might work is that HL7 has a set of permissible values of &#34;M&#34;, &#34;F&#34;, &#34;U&#34;, which are in the administrative gender &#34;code system&#34;. In the pure HL7 context, these might well map to the equivalent value meanings identified by &#34;M&#34;, &#34;F&#34; and &#34;U&#34;. If, however, we were using, say, the UMLS as a source of meaning, the same codes would map to the corresponding UMLS CUIs.
<h3 id="LexEVS6.xValueSetDetailedDesign-ComparedtoHL7ValueSet">
  Compared to HL7 Value Set
</h3>
The term &#34;value set,&#34; when discussed in the context of HL7 can be somewhat ambiguous. There are at least three related artifacts that are sometimes called &#34;value sets&#34;, including 1) a definition or algorithm that, when interpreted, produces a set of concept codes, 2) the actual set of concept codes that result from the execution of a definition or algorithm, and 3) a subset of this set of concept codes coupled with appropriate designations and identifying information. For this reason, the LexEVS model uses the names &#34;value set definition&#34;, &#34;value set resolution&#34; and &#34;pick list definition&#34;, &#34;pick list resolution&#34; respectively to represent the three different senses of &#34;value set&#34; described above.
<h2 id="LexEVS6.xValueSetDetailedDesign-ValueSetDefinitionLogicalModel">
  Value Set Definition Logical Model
</h2>
The following figure shows an overview of the value set definition logical model described in the following section.
<img alt="This graphic is an overview of the value set definition logical model." src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%206.x%20Value%20Set%20Detailed%20Design/ValueSetDefinitionModel.jpg?api=v2">
<h3 id="LexEVS6.xValueSetDetailedDesign-ValueSetDefinitionlogicalModeldescription">
  Value Set Definition logical Model description
</h3>
<h4 id="LexEVS6.xValueSetDetailedDesign-ValueSetDefinition.1">
  Value Set Definition
</h4>
A definition of a given value set. A value set definition can be a simple description with no associated value set entries, or it can consist of one or more definitionEntries that resolve to an enumerated list of entityCodes when applied to one or more codingScheme versions.
<h5 id="LexEVS6.xValueSetDetailedDesign-AttributesofValueSetDefinition">
  Attributes of Value Set Definition
</h5>
The following are attributes of value set definition.
<ul>
  <li>
    Source: The local identifiers of the source(s) of this property. Must match a local id of a supportedSource in the corresponding mappings section.
  </li>
  <li>
    representsRealmOrContext: The local identifiers of the context(s) in which this value set applies. Must match a local id of a supportedContext in the corresponding mappings section.
  </li>
  <li>
    valueSetDefinitionURI: The URI of this value set definition.
  </li>
  <li>
    valueSetDefinitionName: The name of this value set definition, if any.
  </li>
  <li>
    defaultCodingScheme: Local name of the primary coding scheme from which the set is drawn. defaultCodingScheme must match a local id of a supportedCodingScheme in the mappings section.
  </li>
  <li>
    conceptDomain: Local name of the concept domain. When present, the contents of value set are considered to be binded to this specific concept domain. conceptDomain must match a local id of a supportedConceptDomain in the mappings section.
  </li>
</ul>
<h4 id="LexEVS6.xValueSetDetailedDesign-DefinitionEntry">
  Definition Entry
</h4>
A Value Set Definition can have 0 to any number of DefinitionEntry. Each DefinitionEntry basically is used to define the rules as to what entityCode(s) to be included or removed from the value set. There are four different kind of rules that can be set :
<ul>
  <li>
    CodingSchemeReference
  </li>
  <li>
    ValueSetDefinitionReference
  </li>
  <li>
    EntityReference
  </li>
  <li>
    PropertyReference
  </li>
</ul>
These references are described in the following sections. Each DefinitionEntry can contain one and only one of these references. Each DefinitionEntry will be processed independent of the other DefinitionEntries. They will be processed sequentially according to the ruleOrder and will be merged to the final set based on the operator specified.There are three different type of operator that can used :
<ul>
  <li>
    ADD - The processed DefinitionEntry will be merged to the final set using the &#39;AND&#39;. This will include only the entity codes that are both in the value set and the DefinitionEntry. (logical AND)
  </li>
  <li>
    OR - The processed DefinitionEntry will be merged to the final set using the &#39;OR&#39;. This will add the set of entityCodes described by the current DefinitionEntry to the value set. (logical OR)
  </li>
  <li>
    SUBTRACT - The processed DefinitionEntry will be merged to the final set using the &#39;SUBTRACT&#39;. This will subtract (remove) the set of entityCodes described by the current DefinitionEntity to the value set. (logical NAND)
  </li>
</ul>
<h5 id="LexEVS6.xValueSetDetailedDesign-AttributesofDefinitionEntry">
  Attributes of Definition Entry
</h5>
The following attributes of definition entry.
<ul>
  <li>
    ruleOrder: Required unique identifier of the definition entry within the definition as well as the relative order in which this entry should be applied
  </li>
  <li>
    operator: How this entry is to be applied to the value set. Available operator : OR, AND and SUBTRACT
  </li>
</ul>
<h4 id="LexEVS6.xValueSetDetailedDesign-CodingSchemeReference">
  Coding Scheme Reference
</h4>
A reference to all of the entity codes in a given coding scheme.
<h5 id="LexEVS6.xValueSetDetailedDesign-AttributesofCodingSchemeReference">
  Attributes of Coding Scheme Reference
</h5>
codingScheme: The local identifier of the coding scheme that the entity codes are drawn from . codingSchemeName must match a local id of a supportedCodingScheme in the mappings section.
<h4 id="LexEVS6.xValueSetDetailedDesign-ValueSetReferences">
  Value Set References
</h4>
A reference to the set of codes defined in another value set definition.
<h5 id="LexEVS6.xValueSetDetailedDesign-AttributesofValueSetReference">
  Attributes of Value Set Reference
</h5>
valueSetDefinitionURI: The URI of the value set definition to apply the operator to. This value set may be contained within the local service or may need to be resolved externally.
<h4 id="LexEVS6.xValueSetDetailedDesign-EntityReference">
  Entity Reference
</h4>
A reference to an entityCode and/or one or more entityCodes that have a relationship to the specified entity code.
<h5 id="LexEVS6.xValueSetDetailedDesign-AttributesofEntityReference">
  Attributes of Entity Reference
</h5>
The following are attributes of entity reference.
<ul>
  <li>
    entityCode: The entity code being referenced.
  </li>
  <li>
    entityCodeNamespace: Local identifier of the namespace of the entityCode. entityCodeNamespace must match a local id of a supportedNamespace in the corresponding mappings section. If omitted, the URI of the defaultCodingScheme will be used as the URI of the entity code.
  </li>
  <li>
    leafOnly: If true and referenceAssociation is supplied and referenceAssociation is defined as transitive, include all entity codes that are &#34;leaves&#34; in transitive closure of referenceAssociation as applied to entity code. If referenceAssociation is not supplied and transtiveClosure is &#39;false&#39;, this flag will be ignored. Default: false
  </li>
  <li>
    referenceAssociation: The local identifier of an association that appears in the native relations collection in the default coding scheme. This association is used to describe a set of entity codes. If absent, only the entityCode itself is included in this definition.
  </li>
  <li>
    targetToSource: If true and referenceAssociation is supplied, navigate from entityCode as the association target to the corresponding sources. If transitiveClosure is true and the referenceAssociation is transitive, include all the ancestors in the list rather than just the direct &#34;parents&#34; (sources).
  </li>
  <li>
    transitiveClosure: If true and referenceAssociation is supplied and referenceAssociation is defined as transitive, include all entity codes that belong to transitive closure of referenceAssociation as applied to entity code. Default: false
  </li>
</ul>
<h4 id="LexEVS6.xValueSetDetailedDesign-PropertyReference">
  Property Reference
</h4>
A reference to a propertyName or propertyValue and matchAlgoritm to use.
<h5 id="LexEVS6.xValueSetDetailedDesign-AttributesofPropertyReference">
  Attributes of Property Reference
</h5>
The following are attributes of property reference.
<ul>
  <li>
    codingScheme: The local identifier of the codingScheme that this propertyReference will be resolved against. codingScheme must match a local id of a supportedCodingscheme in the corresponding mappings section.
  </li>
  <li>
    propertyName: The local identifier to be used to restrict the entities to have property with this name. Must match a local id of a supportedProperty in the corresponding mappings section.
  </li>
  <li>
    propertyMatchValue: Value to be used to restrict entity property. matchAlgorithm can be used in conjunction to get matching entity properties.
  </li>
</ul>
<h4 id="LexEVS6.xValueSetDetailedDesign-PropertyMatchValue">
  Property Match Value
</h4>
Property match value to be used to restrict entity property. matchAlgorithm can be used in conjunction to get matching entity properties.
<h5 id="LexEVS6.xValueSetDetailedDesign-AttributesofPropertyMatchValue">
  Attributes of Property Match Value
</h5>
matchAlgorithm: Algorithm to be used in conjunction with propertyValue.
<h4 id="LexEVS6.xValueSetDetailedDesign-DefinitionOperator">
  Definition Operator
</h4>
The description of how a given definition entry is applied.
<h5 id="LexEVS6.xValueSetDetailedDesign-AttributesofDefinitionOperator">
  Attributes of Definition Operator
</h5>
The following are attributes of Definition Operator.
<ul>
  <li>
    OR: Add the set of entityCodes described by the currentEntity to the value set. (logical OR)
  </li>
  <li>
    SUBTRACT: Subtract (remove) the set of entityCodes described by the currentEntity to the value set. (logical NAND)
  </li>
  <li>
    AND: Only include the entity codes that are both in the value set and the definition entry. (logical AND)
  </li>
</ul>
<h2 id="LexEVS6.xValueSetDetailedDesign-PossibleFormsofValueSetDefinitions">
  Possible Forms of Value Set Definitions
</h2>
The following are possible forms of value set definitions.
<ul>
  <li>
    Definition containing just the reference to Code System - includes all the concept codes in the referencing code system.
  </li>
  <li>
    Definition containing just the reference to other Value Set Definition -includes all the concept codes defined in the referencing Value Set Definition.
  </li>
  <li>
    Definition containing reference to Code System plus concept codes - includes individual concept codes defined in the definition from the referencing code system.
  </li>
  <li>
    Definition containing reference to Code System plus concept codes plus relationship plus additional rules (leaf only, immediate children, matching property name/value etc) - includes concept codes from the referencing code system that satisfies the rule set defined in the definition.
  </li>
  <li>
    Combination of any of the above with OR/AND/SUBTRACT operations.
  </li>
</ul>
Definition of the Value Set could be as simple as specifying just individual concept codes or specifying to include all the children of concept &#39;Body Structure&#39; from Code System &#39;SNOMED CT&#39; to complex definition containing multiple rule sets.
<h2 id="LexEVS6.xValueSetDetailedDesign-ExamplesofValueSetDefinitions">
  Examples of Value Set Definitions
</h2>
<h3 id="LexEVS6.xValueSetDetailedDesign-Example1">
  Example 1
</h3>
So we have a Code System &#34;Automobiles&#34; that contains concept codes Domestic Automaker and Automobile. Domestic Automaker contains Ford and General Motors. Automobile contains Truck, Car, and Tires.We define a Value Set Definition to contain all the concept codes to contain Code System &#39;Automobiles.
valueSetDefinition
ValueSetDefinition URI : urn:VDexample1
ValueSetDefinition : All Automobiles
defaultcodingcheme: Automobiles

And when this definition is resolved, we will get back all the preferred designations.
<img alt="This is example 1 as described above." src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%206.x%20Value%20Set%20Detailed%20Design/VSDExample1.jpg?api=v2">
<h3 id="LexEVS6.xValueSetDetailedDesign-Example2">
  Example 2
</h3>
Using the same Code System &#34;Automobiles&#34; if you want to define the same value set definition to include all concept codes except &#34;General Motors&#34; and the children, it can be defined as follows:
valueSetDefinition
ValueSetDefinition URI : urn:VDexample1
ValueSetDefinition : All Automobiles BUT GM
defaultcodingcheme: Automobiles

And when this definition is resolved, we will get back all the preferred designations.
<img alt="This is example 2 as described above." src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%206.x%20Value%20Set%20Detailed%20Design/VSDExample2.jpg?api=v2">
<h2 id="LexEVS6.xValueSetDetailedDesign-ValueSetDefinitionResolution">
  Value Set Definition Resolution
</h2>
The following is information about value set definition resolutions.
<ul>
  <li>
    A value set definition has to be made against a specific version of a code system.
  </li>
  <li>
    But it doesn&#39;t have to be resolved against the same version.
  </li>
  <li>
    Even a simple list (a, b, c, d) needs to be resolved as, at some future date, &#34;c&#34; might be retired.
  </li>
  <li>
    Resolution does not create static artifact.
  </li>
</ul>
<h2 id="LexEVS6.xValueSetDetailedDesign-ValueSetDefinitionVersions">
  Value Set Definition Versions
</h2>
Value Set Definitions are versioned. The version of Value Set Definition changes when ever the definition is changed, it could be adding or removing Code System reference or changes in the rule set. Value Set authoring services are exposed in CTS 2 implementation of LexEVS. &lt;Link here&gt;
<h2 id="LexEVS6.xValueSetDetailedDesign-ValueSetServices">
  Value Set Services
</h2>
Visit
<a href="https://wiki.nci.nih.gov/pages/viewpage.action?pageId=62427340" rel="nofollow">
  Value Set Services
</a>
for detailed Value Set Definition Services documentation.
<h2 id="LexEVS6.xValueSetDetailedDesign-ValueSetGUI">
  Value Set GUI
</h2>
Visit
<a href="https://wiki.nci.nih.gov/pages/viewpage.action?pageId=62427329" rel="nofollow">
  LexEVS 6.0 Value Set GUI
</a>
for detailed functionality and howto&#39;s about using Value Sets developer GUI tool