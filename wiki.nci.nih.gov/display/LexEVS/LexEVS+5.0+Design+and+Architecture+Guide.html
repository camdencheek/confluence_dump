The information and links on this page are no longer being updated and are provided for reference purposes only.Unable to render {include} The included page could not be found.Contents of this Page
<ul>
  <li>
    <a href="#LexEVS5.0DesignandArchitectureGuide-Overview" rel="nofollow">
      Overview
    </a>
    <ul>
      <li>
        <a href="#LexEVS5.0DesignandArchitectureGuide-WhatisLexGrid?" rel="nofollow">
          What is LexGrid?
        </a>
      </li>
      <li>
        <a href="#LexEVS5.0DesignandArchitectureGuide-WhatisLexBIG?" rel="nofollow">
          What is LexBIG?
        </a>
      </li>
      <li>
        <a href="#LexEVS5.0DesignandArchitectureGuide-LexGridModel" rel="nofollow">
          LexGrid Model
        </a>
      </li>
      <li>
        <a href="#LexEVS5.0DesignandArchitectureGuide-CodeSystems" rel="nofollow">
          Code Systems
        </a>
      </li>
      <li>
        <a href="#LexEVS5.0DesignandArchitectureGuide-Concepts" rel="nofollow">
          Concepts
        </a>
      </li>
      <li>
        <a href="#LexEVS5.0DesignandArchitectureGuide-Relations" rel="nofollow">
          Relations
        </a>
      </li>
    </ul>
  </li>
  <li>
    <a href="#LexEVS5.0DesignandArchitectureGuide-LexBIGExtensions" rel="nofollow">
      LexBIG Extensions
    </a>
  </li>
  <li>
    <a href="#LexEVS5.0DesignandArchitectureGuide-InformationModels" rel="nofollow">
      Information Models
    </a>
    <ul>
      <li>
        <a href="#LexEVS5.0DesignandArchitectureGuide-ScopeofInformationProvided" rel="nofollow">
          Scope of Information Provided
        </a>
      </li>
      <li>
        <a href="#LexEVS5.0DesignandArchitectureGuide-LexGridModel.1" rel="nofollow">
          LexGrid Model
        </a>
      </li>
      <li>
        <a href="#LexEVS5.0DesignandArchitectureGuide-CodingSchemes" rel="nofollow">
          CodingSchemes
        </a>
      </li>
      <li>
        <a href="#LexEVS5.0DesignandArchitectureGuide-Concepts.1" rel="nofollow">
          Concepts
        </a>
        <ul>
          <li>
            <a href="#LexEVS5.0DesignandArchitectureGuide-conceptsAndInstances" rel="nofollow">
              conceptsAndInstances
            </a>
          </li>
          <li>
            <a href="#LexEVS5.0DesignandArchitectureGuide-entities" rel="nofollow">
              entities
            </a>
          </li>
          <li>
            <a href="#LexEVS5.0DesignandArchitectureGuide-entity" rel="nofollow">
              entity
            </a>
          </li>
        </ul>
      </li>
      <li>
        <a href="#LexEVS5.0DesignandArchitectureGuide-Relations.1" rel="nofollow">
          Relations
        </a>
        <ul>
          <li>
            <a href="#LexEVS5.0DesignandArchitectureGuide-association" rel="nofollow">
              association
            </a>
          </li>
          <li>
            <a href="#LexEVS5.0DesignandArchitectureGuide-associationInstance" rel="nofollow">
              associationInstance
            </a>
          </li>
        </ul>
      </li>
      <li>
        <a href="#LexEVS5.0DesignandArchitectureGuide-Naming" rel="nofollow">
          Naming
        </a>
      </li>
      <li>
        <a href="#LexEVS5.0DesignandArchitectureGuide-LexBIGModel" rel="nofollow">
          LexBIG Model
        </a>
        <ul>
          <li>
            <a href="#LexEVS5.0DesignandArchitectureGuide-Core" rel="nofollow">
              Core
            </a>
          </li>
          <li>
            <a href="#LexEVS5.0DesignandArchitectureGuide-InterfaceElements" rel="nofollow">
              InterfaceElements
            </a>
          </li>
          <li>
            <a href="#LexEVS5.0DesignandArchitectureGuide-NCIHistory" rel="nofollow">
              NCIHistory
            </a>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <a href="#LexEVS5.0DesignandArchitectureGuide-Architecture" rel="nofollow">
      Architecture
    </a>
    <ul>
      <li>
        <a href="#LexEVS5.0DesignandArchitectureGuide-LexBIG" rel="nofollow">
          LexBIG
        </a>
        <ul>
          <li>
            <a href="#LexEVS5.0DesignandArchitectureGuide-LexBIGServices" rel="nofollow">
              LexBIG Services
            </a>
          </li>
          <li>
            <a href="#LexEVS5.0DesignandArchitectureGuide-caGRIDHosting" rel="nofollow">
              caGRID Hosting
            </a>
          </li>
          <li>
            <a href="#LexEVS5.0DesignandArchitectureGuide-ServiceManagementSubsystem" rel="nofollow">
              Service Management Subsystem
            </a>
          </li>
          <li>
            <a href="#LexEVS5.0DesignandArchitectureGuide-MetadataandDiscoverySubsystem" rel="nofollow">
              Metadata and Discovery Subsystem
            </a>
          </li>
          <li>
            <a href="#LexEVS5.0DesignandArchitectureGuide-QuerySubsystem" rel="nofollow">
              Query Subsystem
            </a>
          </li>
        </ul>
      </li>
      <li>
        <a href="#LexEVS5.0DesignandArchitectureGuide-LexEVSAPI/GridServiceInteraction" rel="nofollow">
          LexEVS API/Grid Service Interaction
        </a>
        <ul>
          <li>
            <a href="#LexEVS5.0DesignandArchitectureGuide-RevisionHistory" rel="nofollow">
              Revision History
            </a>
          </li>
          <li>
            <a href="#LexEVS5.0DesignandArchitectureGuide-DocumentPurpose" rel="nofollow">
              Document Purpose
            </a>
          </li>
          <li>
            <a href="#LexEVS5.0DesignandArchitectureGuide-ImplementationOverview" rel="nofollow">
              Implementation Overview
            </a>
          </li>
          <li>
            <a href="#LexEVS5.0DesignandArchitectureGuide-TeamMembers" rel="nofollow">
              Team Members
            </a>
          </li>
          <li>
            <a href="#LexEVS5.0DesignandArchitectureGuide-Description" rel="nofollow">
              Description
            </a>
          </li>
          <li>
            <a href="#LexEVS5.0DesignandArchitectureGuide-Scope" rel="nofollow">
              Scope
            </a>
          </li>
          <li>
            <a href="#LexEVS5.0DesignandArchitectureGuide-Architecture.1" rel="nofollow">
              Architecture
            </a>
            <ul>
              <li>
                <a href="#LexEVS5.0DesignandArchitectureGuide-LexEVSGridServiceClassDiagram" rel="nofollow">
                  LexEVS Grid Service Class Diagram
                </a>
              </li>
              <li>
                <a href="#LexEVS5.0DesignandArchitectureGuide-LexEVSGridServiceSequenceDiagram" rel="nofollow">
                  LexEVS Grid Service Sequence Diagram
                </a>
              </li>
              <li>
                <a href="#LexEVS5.0DesignandArchitectureGuide-GeneralCallSequenceExample" rel="nofollow">
                  General Call Sequence Example
                </a>
              </li>
            </ul>
          </li>
          <li>
            <a href="#LexEVS5.0DesignandArchitectureGuide-Assumptions" rel="nofollow">
              Assumptions
            </a>
          </li>
          <li>
            <a href="#LexEVS5.0DesignandArchitectureGuide-Dependencies" rel="nofollow">
              Dependencies
            </a>
          </li>
          <li>
            <a href="#LexEVS5.0DesignandArchitectureGuide-ThirdPartyTools" rel="nofollow">
              Third Party Tools
            </a>
          </li>
          <li>
            <a href="#LexEVS5.0DesignandArchitectureGuide-Server" rel="nofollow">
              Server
            </a>
          </li>
          <li>
            <a href="#LexEVS5.0DesignandArchitectureGuide-APIs" rel="nofollow">
              APIs
            </a>
          </li>
          <li>
            <a href="#LexEVS5.0DesignandArchitectureGuide-APIExamples" rel="nofollow">
              API Examples
            </a>
          </li>
          <li>
            <a href="#LexEVS5.0DesignandArchitectureGuide-ServiceContextsandState" rel="nofollow">
              Service Contexts and State
            </a>
            <ul>
              <li>
                <a href="#LexEVS5.0DesignandArchitectureGuide-ServiceContextOperationsExampleinIntroduce" rel="nofollow">
                  Service Context Operations Example in Introduce
                </a>
              </li>
              <li>
                <a href="#LexEVS5.0DesignandArchitectureGuide-ObtainingaServiceContextReference" rel="nofollow">
                  Obtaining a Service Context Reference
                </a>
              </li>
              <li>
                <a href="#LexEVS5.0DesignandArchitectureGuide-Resources" rel="nofollow">
                  Resources
                </a>
              </li>
              <li>
                <a href="#LexEVS5.0DesignandArchitectureGuide-ServiceContextSequence" rel="nofollow">
                  Service Context Sequence
                </a>
              </li>
              <li>
                <a href="#LexEVS5.0DesignandArchitectureGuide-ServiceContextandResourceAssignment" rel="nofollow">
                  Service Context and Resource Assignment
                </a>
              </li>
              <li>
                <a href="#LexEVS5.0DesignandArchitectureGuide-1.CodedNodeSet" rel="nofollow">
                  1. CodedNodeSet
                </a>
              </li>
              <li>
                <a href="#LexEVS5.0DesignandArchitectureGuide-2.CodedNodeGraph" rel="nofollow">
                  2. CodedNodeGraph
                </a>
              </li>
              <li>
                <a href="#LexEVS5.0DesignandArchitectureGuide-3.LexBIGServiceConvenienceMethods" rel="nofollow">
                  3. LexBIGServiceConvenienceMethods
                </a>
              </li>
              <li>
                <a href="#LexEVS5.0DesignandArchitectureGuide-4.LexBIGServiceMetadata" rel="nofollow">
                  4. LexBIGServiceMetadata
                </a>
              </li>
              <li>
                <a href="#LexEVS5.0DesignandArchitectureGuide-5.HistoryService" rel="nofollow">
                  5. HistoryService
                </a>
              </li>
              <li>
                <a href="#LexEVS5.0DesignandArchitectureGuide-6.Sort" rel="nofollow">
                  6. Sort
                </a>
              </li>
              <li>
                <a href="#LexEVS5.0DesignandArchitectureGuide-7.Filter" rel="nofollow">
                  7. Filter
                </a>
              </li>
              <li>
                <a href="#LexEVS5.0DesignandArchitectureGuide-8.ResolvedConceptReferencesIterator" rel="nofollow">
                  8. ResolvedConceptReferencesIterator
                </a>
              </li>
            </ul>
          </li>
          <li>
            <a href="#LexEVS5.0DesignandArchitectureGuide-ErrorHandling" rel="nofollow">
              Error Handling
            </a>
            <ul>
              <li>
                <a href="#LexEVS5.0DesignandArchitectureGuide-ErrorConnectingtoLexEVSGridService" rel="nofollow">
                  Error Connecting to LexEVS Grid Service
                </a>
              </li>
              <li>
                <a href="#LexEVS5.0DesignandArchitectureGuide-LexBIGErrors" rel="nofollow">
                  LexBIG Errors
                </a>
              </li>
              <li>
                <a href="#LexEVS5.0DesignandArchitectureGuide-InvalidServiceContextAccess" rel="nofollow">
                  Invalid Service Context Access
                </a>
              </li>
            </ul>
          </li>
          <li>
            <a href="#LexEVS5.0DesignandArchitectureGuide-Client" rel="nofollow">
              Client
            </a>
          </li>
          <li>
            <a href="#LexEVS5.0DesignandArchitectureGuide-SecurityIssues" rel="nofollow">
              Security Issues
            </a>
            <ul>
              <li>
                <a href="#LexEVS5.0DesignandArchitectureGuide-LexEVSGridServiceSecurity" rel="nofollow">
                  LexEVS Grid Service Security
                </a>
              </li>
              <li>
                <a href="#LexEVS5.0DesignandArchitectureGuide-AccessingSecureContent" rel="nofollow">
                  Accessing Secure Content
                </a>
              </li>
              <li>
                <a href="#LexEVS5.0DesignandArchitectureGuide-Implementation" rel="nofollow">
                  Implementation
                </a>
              </li>
            </ul>
          </li>
          <li>
            <a href="#LexEVS5.0DesignandArchitectureGuide-Performance" rel="nofollow">
              Performance
            </a>
          </li>
          <li>
            <a href="#LexEVS5.0DesignandArchitectureGuide-InstallationandPackaging" rel="nofollow">
              Installation and Packaging
            </a>
          </li>
          <li>
            <a href="#LexEVS5.0DesignandArchitectureGuide-Migration" rel="nofollow">
              Migration
            </a>
          </li>
          <li>
            <a href="#LexEVS5.0DesignandArchitectureGuide-SystemTesting" rel="nofollow">
              System Testing
            </a>
          </li>
          <li>
            <a href="#LexEVS5.0DesignandArchitectureGuide-DOCUMENTAPPROVAL" rel="nofollow">
              DOCUMENT APPROVAL
            </a>
            <ul>
              <li>
                <a href="#LexEVS5.0DesignandArchitectureGuide-ApproversList" rel="nofollow">
                  Approvers List
                </a>
              </li>
              <li>
                <a href="#LexEVS5.0DesignandArchitectureGuide-ReviewersList" rel="nofollow">
                  Reviewers List
                </a>
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <a href="#LexEVS5.0DesignandArchitectureGuide-LexEVSLoaderSourceMapping" rel="nofollow">
      LexEVS Loader Source Mapping
    </a>
  </li>
</ul>
Unable to render {include} The included page could not be found.
<h2 id="LexEVS5.0DesignandArchitectureGuide-Overview">
  Overview
</h2>
LexBIG software architecture and implementation is designed to facilitate flexibility and future expansion. The following diagrams are intended to aid the understanding of LexBIG service integration in context of the larger caBIG® universe and specific deployment scenarios:This diagram depicts the LexBIG vision. Individual Cancer Centers will be able to use the existing set of caCORE EVS services. If desired, local instances of vocabularies can be installed.
<img alt="The caBIG Grid is at the center of the diagram with the Cancer Centers moving information into the grid." src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%205.0%20Design%20and%20Architecture%20Guide/LexBIG_Vision.jpg?api=v2">
This diagram depicts direct Java-to-Java access to LexBIG functions. This is the primary deployment scenario for phase 1.NoteIt is not required that the database be located on the same system as the program runtime.
<img alt="LexBIG Runtime Direct Programmatic Access diagram" src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%205.0%20Design%20and%20Architecture%20Guide/LexBIG_Runtime_Direct_Programmatic_Access.jpg?api=v2">
This diagram depicts access through caCORE Enterprise Vocabulary Services (EVS) to a LexBIG vocabulary engine.
<img alt="LexBIG Runtime Consolidated Host - EVS Access diagram" src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%205.0%20Design%20and%20Architecture%20Guide/LexBIG_Runtime_Consolidated_Host_EVS_Access.jpg?api=v2">
The primary goal is to provide a compatible experience for existing EVS browsers and client applications.NoteThis diagram shows the possible inclusion of a mediation layer between EVS and the LexBIG runtime.This would be done to facilitate alternate communications with the LexBIG server (e.g. through web services as described in the text that follows).The LexBIG API is designed with web and grid-level enablment in mind. This diagram depicts deployments that wrap the current API to allow the runtime to be accessed through web or grid services.
<img alt="LexBIG Runtime Consolidated Host - Web Service Access diagram described in the text." src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%205.0%20Design%20and%20Architecture%20Guide/LexBIG_Runtime_Consolidated_Host_Web_Service_Access.jpg?api=v2">
<h3 id="LexEVS5.0DesignandArchitectureGuide-WhatisLexGrid?">
  What is LexGrid?
</h3>
LexGrid is an initiative of the Mayo Clinic Division of Biomedical Informatics that focuses on the representation, storage, and dissemination of vocabularies. This effort centers on, but is not limited to, the domain of medical vocabularies and nomenclatures. Focal points of the LexGrid project include the development and promotion of standards, tools, and content that:
<ul>
  <li>
    Provide flexibility to represent yesterday&#39;s, today&#39;s and tomorrow&#39;s terminological resources using a single information model.
  </li>
  <li>
    Provide the ability for these resources to be published online, cross-linked, and indexed.
  </li>
  <li>
    Provide standardized building blocks and tools that allow applications and users to take advantage of the content where and when it is needed.
  </li>
  <li>
    Provide consistency and standardization required to support large-scale terminology adoption and use.
  </li>
</ul>
Additional information for LexGrid is available at
<a href="http://informatics.mayo.edu" rel="nofollow">
  Mayo Clinic Informatics
</a>
.
<h3 id="LexEVS5.0DesignandArchitectureGuide-WhatisLexBIG?">
  What is LexBIG?
</h3>
LexBIG is a more specific project that applies LexGrid vision and technologies to requirements of the caBIG® community. The goal of the project is to build a vocabulary server accessed through a well-structured application programming interface (API) capable of accessing and distributing vocabularies as commodity resources. The server is to be built using standards-based and commodity technologies. Primary objectives for the project include:
<ul>
  <li>
    Provide a robust and scalable open source implementation of EVS-compliant vocabulary services. The API specification will be based on but not limited to fulfillment of the caCORE EVS API. The specification will be further refined to accommodate changes and requirements based on prioritized needs of the caBIG® community.
  </li>
  <li>
    Provide a flexible implementation for vocabulary storage and persistence, allowing for alternative mechanisms without impacting client applications or end users. Initial development will focus on delivery of open source freely available solutions, though this does not preclude the ability to introduce commercial solutions (e.g. Oracle).
  </li>
  <li>
    Provide standard tooling for load and distribution of vocabulary content. This includes but is not limited to support of standardized representations such as UMLS Rich Release Format (RRF), the OWL web ontology language, and Open Biomedical Ontologies (OBO).
  </li>
</ul>
The goal for the initial year of development was to achieve the Bronze level of compatibility with regard to the caBIG® requirements. Silver-level compatibility is being pursued.
<h3 id="LexEVS5.0DesignandArchitectureGuide-LexGridModel">
  LexGrid Model
</h3>
The LexGrid Model is Mayo Clinic&#39;s proposal for standard storage of controlled vocabularies and ontologies. The LexGrid Model defines how vocabularies should be formatted and represented programmatically, and is intended to be flexible enough to accurately represent a wide variety of vocabularies and other lexically-based resources. The model also defines several different server storage mechanisms and an XML format. This model provides the core representation for all data managed and retrieved through the LexBIG system, and is now rich enough to represent vocabularies provided in numerous source formats such as OWL (NCI Thesaurus) and RRF (NCI MetaThesaurus).Once the vocabulary information is represented in a standardized format, it becomes possible to build common repositories to store vocabulary content and common programming interfaces and tools to access and manipulate that content. The LexBIG API developed for caBIG® is one such interface, and is described in additional detail in
<a href="https://wiki.nci.nih.gov/pages/viewpage.action?pageId=62427505" rel="nofollow">
  LexBIG APIs
</a>
.Following are some of the higher-level objects incorporated into the model definition:
<h3 id="LexEVS5.0DesignandArchitectureGuide-CodeSystems">
  Code Systems
</h3>
Each service defined to the LexGrid model can encapsulate the definition of one or more vocabularies. Each vocabulary is modeled as an individual code system, known as a codingScheme. Each scheme tracks information used to uniquely identify the code system, along with relevant metadata. The collection of all code systems defined to a service is encapsulated by a single codingSchemes container.
<h3 id="LexEVS5.0DesignandArchitectureGuide-Concepts">
  Concepts
</h3>
A code system may define zero or more coded concepts, encapsulated within a single container. A concept represents a coded entity (identified in the model as a concept) within a particular domain of discourse. Each concept is unique within the code system that defines it. To be valid, a concept must be qualified by at least one designation, represented in the model as a property. Each property is an attribute, facet, or some other characteristic that may represent or help define the intended meaning of the encapsulating concept. A concept may be the source for and/or the target of zero or more relationships. Relationships are described in more detail in a following section.
<h3 id="LexEVS5.0DesignandArchitectureGuide-Relations">
  Relations
</h3>
Each code system may define one or more containers to encapsulate relationships between concepts. Each named relationship (e.g. &#34;hasSubtype&#34; or &#34;hasPart&#34;) is represented as an association within the LexGrid model. Each relations container must define one or more association. The association definition may also further define the nature of the relationship in terms of transitivity, symmetry, reflexivity, forward and inverse names, etc. Multiple instances of each association can be defined, each of which provide a directed relationship between one source and one or more target concepts.Source and target concepts may be contained in the same code system as the association or another if explicitly identified. By default, all source and target concepts are resolved from the code system defining the association. The code system can be overridden by each specific association, relation source (associationInstance), or relation target (associationTarget).
<h2 id="LexEVS5.0DesignandArchitectureGuide-LexBIGExtensions">
  LexBIG Extensions
</h2>
The LexBIG vocabulary model extends the LexGrid model to provide unique constructs or granularity required by caBIG® that are not present in the core model. While many extensions exist, this document will focus on some of direct relevance to the high-level architecture.Concept ResolutionLexBIG allows the service runtime to provide managed resolution of code-based objects that are referenced through LexBIG-specific lists and iterators (mechanism that allow streaming of list content). These lists and iterators are typically returned when requesting sets or graphs of vocabulary terms through the LexBIG API (described in
<a href="https://wiki.nci.nih.gov/pages/viewpage.action?pageId=62427505" rel="nofollow">
  LexBIG APIs
</a>
). Some model components involved in the resolution process include:ConceptReference - A globally unique reference to a concept code.ResolvedConceptReference - A concept reference for which additional information has been resolved, including description and relationship participation.AssociatedConcept - A concept reference that contains full detail in participation as a source or target of an association, including indications of navigability and qualification.NoteFormal representation of the LexGrid and LexBIG models are discussed in
<a href="https://wiki.nci.nih.gov/pages/viewpage.action?pageId=62427406" rel="nofollow">
  VKC:Information Models
</a>
.
<h2 id="LexEVS5.0DesignandArchitectureGuide-InformationModels">
  Information Models
</h2>
<h3 id="LexEVS5.0DesignandArchitectureGuide-ScopeofInformationProvided">
  Scope of Information Provided
</h3>
The information below is provided for introductory purposes. A full description of all available model components is also available in the javadoc distributed with the LexEVS installation package (see file breakdown in the
<a href="https://wiki.nci.nih.gov/pages/viewpage.action?pageId=62427405" rel="nofollow">
  LexEVS 5.x Installation Guide
</a>
). Since the javadoc is automatically generated and synchronized during the build process, it is recommended as the primary reference for use by LexEVS developers.
<h3 id="LexEVS5.0DesignandArchitectureGuide-LexGridModel.1">
  LexGrid Model
</h3>
The LexGrid model is mastered in XML schema. The LexBIG project currently builds on the 2008 version of the LexGrid schema. A formal representation, showing portions of this structure that are of primary interest to the LexBIG project, is presented below. A complete version of the model is available at
<a href="http://informatics.mayo.edu?page=lgm" rel="nofollow">
  Mayo Clinic Informatics
</a>
.
<h3 id="LexEVS5.0DesignandArchitectureGuide-CodingSchemes">
  CodingSchemes
</h3>
The CodingSchemes branch of the model defines high level containers for concepts and relations. Each CodingScheme represents a unique code system or version in the LexBIG service. Components of interest include: codingSchemes   A collection of one or more coding schemes. codingScheme   A resource that makes assertions about a collection of terminological entities. entities   A set of entity codes and their lexical descriptions relations   A collection of relations that represent a particular point of view or community. versions   A list of past versions of the coding scheme. mappings   A list of all of the local identifiers and defining URI&#39;s that are used in the associated resource properties   A collection of properties.The following graphic shows coding schems.
<img alt="This graphic shows the codingScheme class and the properties described in the text." src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%205.0%20Design%20and%20Architecture%20Guide/LexGridCodingScheme.jpg?api=v2">
<h3 id="LexEVS5.0DesignandArchitectureGuide-Concepts.1">
  Concepts
</h3>
Each concept represents a unique entity within the code system, which can be further described by properties and related to other concepts through relations.
<h4 id="LexEVS5.0DesignandArchitectureGuide-conceptsAndInstances">
  conceptsAndInstances
</h4>
codingScheme A resource that makes assertions about a collection of terminological entities. entities A set of entity codes and their lexical descriptions entity A set of lexical assertions about the intended meaning of a particular entity code. concept An entity that represents a class or category. The entityType for the class concept must be &#34;concept&#34;. instance An entity that represents an instance or an individual. The entityType for the class concept must be &#34;instance&#34;. relations A collection of relations that represent a particular point of view or community. association A binary relation from a set of entities to a set of entities and/or data. The entityType for the class concept must be &#34;association&#34;.
<img alt="This graphic shows the conceptAndinstances class with the properties described in the text." src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%205.0%20Design%20and%20Architecture%20Guide/LexGridConceptsAndInstances.jpg?api=v2">
<h4 id="LexEVS5.0DesignandArchitectureGuide-entities">
  entities
</h4>
codingScheme A resource that makes assertions about a collection of terminological entities. entities A set of entity codes and their lexical descriptions entity A set of lexical assertions about the intended meaning of a particular entity code. concept An entity that represents a class or category. The entityType for the class concept must be &#34;concept&#34;. instance An entity that represents an instance or an individual. The entityType for the class concept must be &#34;instance&#34;. association A binary relation from a set of entities to a set of entities and/or data. The entityType for the class concept must be &#34;association.&#34;
<img alt="This graphic shows the entities class with the properties described in the text." src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%205.0%20Design%20and%20Architecture%20Guide/LexGridEntities.jpg?api=v2">
<h4 id="LexEVS5.0DesignandArchitectureGuide-entity">
  entity
</h4>
entity A set of lexical assertions about the intended meaning of a particular entity code. comment A property that is used as an annotation or other note about the state or usage of the entity. The propertyType of comment must be &#34;comment&#34; definition A property that defines the entity in a particular langage or context.. The propertyType of definition must be &#34;definition&#34; presentation A property ths represents or designates the meaning of the entityCode. The propertyType of presentation must be &#34;presentation&#34; property A description, definition, annotation or other attribute that serves to further define or identify an resource. propertyLink A link between two properties for an entity.. Examples include acronymFor, abbreviationOf, spellingVariantOf, etc. Must be in supportedPropertyLink.The following graphic displays an entity.
<img alt="This graphic shows the entity class and the properties are described in the text." src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%205.0%20Design%20and%20Architecture%20Guide/LexGridEntity.jpg?api=v2">
<h3 id="LexEVS5.0DesignandArchitectureGuide-Relations.1">
  Relations
</h3>
Relations are used to define and qualify associations between concepts.
<h4 id="LexEVS5.0DesignandArchitectureGuide-association">
  association
</h4>
codingScheme A resource that makes assertions about a collection of terminological entities. relations A collection of relations that represent a particular point of view or community. entity A set of lexical assertions about the intended meaning of a particular entity code. association A binary relation from a set of entities to a set of entities and/or data. The entityType for the class concept must be &#34;association&#34;. associationSource An entity that occurs in one or more instances of a relation on the &#34;from&#34; (or left hand) side of a particular relation.The following figure shows an association.
<img alt="This graphic shows the association class and the properties are described in the text" src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%205.0%20Design%20and%20Architecture%20Guide/LexGridAssociation.jpg?api=v2">
<h4 id="LexEVS5.0DesignandArchitectureGuide-associationInstance">
  associationInstance
</h4>
association A binary relation from a set of entities to a set of entities and/or data. The entityType for the class concept must be &#34;association&#34;. associationSource An entity that occurs in one or more instances of a relation on the &#34;from&#34; (or left hand) side of a particular relation. associationTarget An entity on the &#34;to&#34; (or right hand) side of a relation. associationData An instance of a target or RHS data value of an association. associatableElement Information common to both the entity and data form of the &#34;to&#34; (or right hand) side of an association. associationQualification A modifier that further qualifies the particular association instance.The following figure shows associationinstance.
<img alt="This graphic shows the associationInstance class with the properties described in the text." src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%205.0%20Design%20and%20Architecture%20Guide/LexGridAssociationInstance.jpg?api=v2">
<h3 id="LexEVS5.0DesignandArchitectureGuide-Naming">
  Naming
</h3>
These elements are primarily used to define metadata for a coding scheme, mapping locally used names to global references. URIMap A local identifier that is used in a specific context (e.g. language, property name, data type, etc) and an optional URI that can be used to find the exact definition and meaning of the local id. Note: the string portion of this entry can be used to provide additional documentation or information, especially when a URI is not supplied. supportedAssociation An associationName and the URI of the defining resource. supportedAssociationQualifier An associationQualifier and the URI of the defining resource supportedCodingScheme A codingSchemeName and the URI of the defining resource supportedStatus An entryStatus and the URI of the defining resource supportedEntityType An entityType and the URI of the defining resource supportedContext A context and the URI of the defining resource supportedContainerName A containerName and the URI of the defining resource supportedDegreeOfFidelity A degreeOfFidelity and the URI of the defining resource supportedLanguage A language and the URI of the defining resource supportedProperty A propertyName and the URI of the defining resource supportedSortOrder The local identifier and the URI of the defining resource supportedHierarchy A list of associations that can be browsed hierarchically. supportedNamespace A namespaceName and the corresponding URI supportedPropertyType A propertyType and the URI of the defining resource supportedPropertyQualifier A propertyQualifierName the URI of the defining resource supportedPropertyQualifierType A propertyQualifierType the URI of the defining resource supportedPropertyLink A propertyLinkName and ththe URI of the defining resource supportedRepresentationalForm A representationalForm and the URI of the defining resource supportedSource A source and the URI of the defining resource. Source references can also carry an additional compositional rule section that describes how to combine a subpart such as a page number, section name, etc. with the core URI in order to form a meaningful URL. An optional role can also be specified. supportedSourceRole A source role and athe URI of the defining resourceThe following figure shows naming.
<img alt="This graphic shows the naming class with the properties described in the text." src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%205.0%20Design%20and%20Architecture%20Guide/LexGridNaming.jpg?api=v2">
<h3 id="LexEVS5.0DesignandArchitectureGuide-LexBIGModel">
  LexBIG Model
</h3>
The following extensions to the LexGrid model were introduced in support of caBIG® requirements. As with the LexGrid model, this document provides a summary of the most significant elements for consideration by LexBIG programmers. The complete and current version of the model is available online at
<a href="http://informatics.mayo.edu?page=lexex" rel="nofollow">
  Mayo Clinic Informatics
</a>
.
<h4 id="LexEVS5.0DesignandArchitectureGuide-Core">
  Core
</h4>
LexBIG core elements provide enhanced referencing and controlled resolution of LexGrid model objects.The following figure shows the LexBIG core elements.
<img alt="This graphic shows the core extension and the components within core are described in the text that follows." src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%205.0%20Design%20and%20Architecture%20Guide/Core.jpg?api=v2">
Components of interest include: AbsoluteCodingSchemeVersionReference An absolute reference to a coding scheme. This form of reference is service independent, as it doesn&#39;t depend on local coding schemes names or virtual tags. AssociatedConcept A concept reference that is the source or target of an association. Association The representation of a particular association as it appears in a CodedNode. CodingSchemeSummary Abbreviated list of information about a coding scheme. CodingSchemeURNorName Either a local name or the URN of a coding scheme. These two are differentiated syntactically - if the entity includes a colon &#34;:&#34; or a hash &#34;#&#34; it is assumed to be a URN. Otherwise it is assumed to be a local name. CodingSchemeVersionOrTag A named coding scheme version or a virtual tag (e.g. latest, production, etc). Note that the tagged form of identifier is only applicable in the context of a given service, as one service may identify the scheme as &#34;production&#34; and another as &#34;staging&#34;. ConceptReference A reference to a coding scheme and a concept code. LogEntry A single recorded log entry. LogLevel Indicates severity of the log entry. MetadataProperty Reference to a property name and value stored in the coding scheme metadata. NameAndValue A simple name/value pair. ReferenceLink Any reference to another document element. Used by the REST architecture to embed links. ResolvedConceptReference A resolvable concept reference. ServiceURL References a service in the Globus environment, this will be a global service handle (GSH).
<h4 id="LexEVS5.0DesignandArchitectureGuide-InterfaceElements">
  InterfaceElements
</h4>
Defines metadata related to model objects required by the runtime.The following figure shows the interfaceelements.
<img alt="This graphic shows the InterfaceElements extension and the components within InterfaceElements are described in the text that follows." src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%205.0%20Design%20and%20Architecture%20Guide/Interface_Elements.jpg?api=v2">
Components of interest include: CodingSchemeRendering Information about a coding scheme as it appears in a particular service. ExportStatus Reports the state of LexBIG export operations. ExtensionDescription Describes an add-on module registered to the LexBIG environment. LoadStatus Reports the state of LexBIG load operations. ModuleDescription Describes a LexBIG integrated software module. ProcessState Enumerates possible status reported for LexBIG runtime operations. ProcessStatus Reports the state of LexBIG runtime operations. RenderingDetail The details of how a coding scheme is rendered in a given service. SortContext Describes a LexBIG sort module. SortDescription A description of a LexBIG extension module. SortOption Represents a pairing of sort algorithm and order. SystemReleaseDetail The combination of a system release and all of the entityVersions  that accompanied that release.
<h4 id="LexEVS5.0DesignandArchitectureGuide-NCIHistory">
  NCIHistory
</h4>
Maintains a record of modifications made to a code system.The following figure shows the NCIHistory.
<img alt="This graphic shows the NCIHistory extension and the components within NCIHistory are described in the text that follows." src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%205.0%20Design%20and%20Architecture%20Guide/NCIHistory.jpg?api=v2">
Components of interest include: changeType Atomic modification actions. Currently populated from a combination of Concordia, SNOMED-CT list and NCI&#39;s action list. NCIChangeEvent This link does not work, but I&#39;m not sure it could without an ftp application.
Link provided for historical purposes ftp://ftp1.nci.nih.gov/pub/cacore/EVS/ReadMe_history.txt
. Note that date and time of the change event is recorded in the containing version. All change events for the same/date and time a recorded in the same version.
<h2 id="LexEVS5.0DesignandArchitectureGuide-Architecture">
  Architecture
</h2>
<h3 id="LexEVS5.0DesignandArchitectureGuide-LexBIG">
  LexBIG
</h3>
<h4 id="LexEVS5.0DesignandArchitectureGuide-LexBIGServices">
  LexBIG Services
</h4>
This section describes architectural detail for services provided by the LexBIG system. These services are geared toward the administration, management, and serving of vocabularies defined to the LexGrid/LexBIG information model. A system overview is provided, followed by a description of key subsystems and components. Each subsystem is described in terms of its overall structure, formal model, and specification of key public interfaces.The following figure shows the LexBIG service components.
<ul>
  <li>
    Service Metadata: Coding Schema Metadata and Licensing
  </li>
  <li>
    Query Service: Lexical Set Operations, Graph Operations, History
  </li>
  <li>
    Service Manager: Loaders and Indexers
  </li>
  <li>
    Extensions: Plug-ins
  </li>
</ul>
<img alt="This graphic shows the LexBIG service components described in the text." src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%205.0%20Design%20and%20Architecture%20Guide/LexBIG_Service_Components.jpg?api=v2">
The LexBIG Service is designed to run standalone or as part of a larger network of services. It is comprised of four primary subsystems: Service Management, Service Metadata, Query Operations, and Extensions. The Service Manager provides administration control for loading a vocabulary and activating a service. The Service Metadata provides external clients with information about the vocabulary content (e.g. NCI Thesaurus) and appropriate licensing information. The Query Operations provide numerous functions for querying and traversing vocabulary content. Finally, the Extensions component provides a mechanism to extend the specific service functions, such as Loaders, or re-wrap specific query operations into convenience methods.Primary points of interaction for programming include the following classes:LexBIGService - This interface provides centralized access to all LexBIG services.LexBIGServiceManager - The service manager provides a centralized access point for administrative functions, including write and update access for a service&#39;s content. For example, the service manager allows new coding schemes to be validated and loaded, existing coding schemes to be retired and removed, and the status of various coding schemes to be updated and changed.
<h4 id="LexEVS5.0DesignandArchitectureGuide-caGRIDHosting">
  caGRID Hosting
</h4>
The following figure shows how the caGrid Hosting Environment comprises the LexBIG Service. The LexBIG Service comprises Service Metadata, Query Service, Service Manager, and Extensions. Service Metadata has a link outside the Hosting environment to a Service Discovery.
<img alt="This graphic shows the caGRID hosting environment as described in the text." src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%205.0%20Design%20and%20Architecture%20Guide/CaGRID_Hosting_Environment.jpg?api=v2">
The LexBIG architecture provides the underpinnings LexBIG services to be made accessible through the caGRID environment in the future, where LexBIG services might optionally be deployed in a caGRID Globus container. caGrid provides a Globus service for service registration and discovery. LexBIG services deployed to the grid would be registered in the NCICB registry and be searchable through the NCICB index service.SpecificationAdditional specifications related to the registration and discovery of LexBIG services in the caGRID environment will be included later phases of work in concordance with caGRID 1.0. This is will be coordinated with caBIG® Architecture workspace designees.
<h4 id="LexEVS5.0DesignandArchitectureGuide-ServiceManagementSubsystem">
  Service Management Subsystem
</h4>
The following figure shows the components of the Service Manager: Indexers, Loaders, Loader Administration, and Service Administration. The Loaders are extendable to LexGrid XML, OWL, RRF, OBO, and Other.
<img alt="This graphic shows the Service Management subsystem as described in the text." src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%205.0%20Design%20and%20Architecture%20Guide/Service_Management_Subsystem.jpg?api=v2">
This subsystem provides administrative access to functions related to management and publication of LexBIG vocabularies. These functions are generally considered to be reserved for LexBIG administrators, with detailed instructions on how to secure and carry out related tasks described by the LexBIG Administrator&#39;s Guide.This subsystem is further broken down into the following components:
<ul>
  <li>
    Indexers Vocabularies may be indexed to provide enhanced performance or query capabilities. Types of indexes incorporated into the LexBIG system include but are not limited to the following:
    <ul>
      <li>
        Lexical Match - for example, &#34;begins-with&#34; and &#34;contains&#34;
      </li>
      <li>
        Phonetic - allows for the ability to query based on &#34;sounds-like&#34; entry of search criteria.
      </li>
      <li>
        Stemming - allows for the ability to find lexical variations of search terms. Index creation is typically bundled into the load process. Architecturally speaking, however, this capability is decoupled and extensible.
      </li>
    </ul>
  </li>
  <li>
    Loaders Vocabularies may be imported to the system from a variety of accepted formats, including but not limited to:
    <ul>
      <li>
        LexGrid XML (LexBIG canonical format)
      </li>
      <li>
        NCI Thesaurus, provided in Web Ontology Language format (OWL)
      </li>
      <li>
        UMLS Rich Release format (RRF)
      </li>
      <li>
        Open Biomedical Ontologies format (OBO) As with indexers, the load mechanism is designed to be extensible from an architectural standpoint. Additional loaders can be supported by the introduction of pluggable modules. Each module is implemented in the Java programming language according to a LexBIG-provided interface, and registered to the loader runtime environment.
      </li>
    </ul>
  </li>
</ul>
<h4 id="LexEVS5.0DesignandArchitectureGuide-MetadataandDiscoverySubsystem">
  Metadata and Discovery Subsystem
</h4>
The following graphic shows that the Metadata Service comprises Coding Scheme Metadata, Licensing, and Discover and Index Service.
<img alt="This graphic shows the Metadata Service component as described in the text." src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%205.0%20Design%20and%20Architecture%20Guide/Metadata_Service.jpg?api=v2">
This subsystem provides information about accessible vocabularies, related licensing/copyright information, and registration/discovery of LexBIG services.The ability to locate and resolve vocabulary metadata is fulfilled through the LexBIGService class. Metadata defined by the LexGrid information model is resolved with each CodingScheme instance. Available metadata on each resolved scheme includes, but is not necessarily limited to, the following:
<ul>
  <li>
    License or copyright information
  </li>
  <li>
    Supported values (e.g. supported concept status, language, property names, etc)
  </li>
  <li>
    Mappings from names used locally to globally unique URNs
  </li>
</ul>
In addition, each LexBIGService provides a centralized metadata index that allows registration and query of code system metadata without requiring resolution of individual CodingSchemes. This metadata index is optionally populated, typically during the vocabulary load process. The metadata index allows for the metadata of multiple code systems to be cross-indexed and searched as part of the query subsystem.Finally, the LexBIG architecture provides the underpinnings for LexBIG services to be made accessible through the caGRID environment in the future, where vocabulary services might be deployed and discovered within a caGRID Globus container. However, this portion of the API is preliminary and awaits coordination with caBIG® Architecture WS designees to determine exact recommendations and nature of LexBIG services on the grid.
<h4 id="LexEVS5.0DesignandArchitectureGuide-QuerySubsystem">
  Query Subsystem
</h4>
The following figure shows the Query Subsystem which comprises Lexical Set Operations, Graph Operations, and History. Graph Operations sends data to LexBIG API and LexBIG Data Model (Loaders and Indexers) and LexGRID Vocabulary Model and Repository.
<img alt="This graphic shows the Query Subsystem component as described in the text." src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%205.0%20Design%20and%20Architecture%20Guide/Query_Subsystem.jpg?api=v2">
This subsystem provides the functionality required to fulfill caCORE/EVS and other vocabulary requests. The Query Service is comprised of Lexical Operations, Graph Operations, Metadata, and History Operations. Lexical Set Operations Lexical Set Operations provides methods to return a lists or iterators of coded entries. Supported query criteria include the application of match/filter algorithms, sorting algorithms, and property restrictions. Support is also provided to resolve the union, intersection or difference of two node sets. Graph Set Operations Graph Operations support the subsetting of concepts according to relationship and distance, identification of relation source and target concepts, and graph traversal. Additional operations include enumeration and traversal of concepts by relation, walking of directed acyclic graphs (DAGs), enumeration of source and target concepts for a relation, and enumeration of relations for a concept. Metadata Operations Metadata Operations allows for the query and resolution of registered code system metadata according to specified coding scheme references, property names, or values. History Operations History provides vocabulary-specific information about concept insertions, modifications, splits, merges, and retirements when supplied by the content provider.
<h3 id="LexEVS5.0DesignandArchitectureGuide-LexEVSAPI/GridServiceInteraction">
  LexEVS API/Grid Service Interaction
</h3>
(DESIGN DOC IMPORT START)
<h4 id="LexEVS5.0DesignandArchitectureGuide-RevisionHistory">
  Revision History
</h4>
Content changes to this document from the previous to the current level are indicated by revision bars (|) unless a complete rewrite is indicated.
<table>
  <tbody>
    <tr>
      <th>
        Date
      </th>
      <th>
        Version
      </th>
      <th>
        Description
      </th>
      <th>
        Author
      </th>
    </tr>
    <tr>
      <td>
        07/29/2008
      </td>
      <td>
        1.0
      </td>
      <td>
        Initial document
      </td>
      <td>
        Kevin Peterson
      </td>
    </tr>
    <tr>
      <td>
        8/30/2008
      </td>
      <td>
        1.1
      </td>
      <td>
        Revised for Security and Exception Handling
      </td>
      <td>
        Kevin Peterson
      </td>
    </tr>
  </tbody>
</table>
NoteIf this document has been inspected, please indicate the inspection date that each version is based on in the &#34;Change Description and Explanation&#34; area. Entries in this log must be maintained for at least 3 years.
<h4 id="LexEVS5.0DesignandArchitectureGuide-DocumentPurpose">
  Document Purpose
</h4>
This document provides the detailed design and implementation of LexBIG Enterprise Vocabulary Service (LexEVS) caGrid Service. It should be noted that the LexEVS Grid Service is no longer part of the caGrid 1.1 infrastructure and will be deployed as a separate unit. This is a change from the previous release of the LexEVS Grid Service.The LexEVS caGrid service will allow programs to utilize the caGrid 1.2 infrastructure to access LexEVS information that is currently being produced by NCICB.
<h4 id="LexEVS5.0DesignandArchitectureGuide-ImplementationOverview">
  Implementation Overview
</h4>
<h4 id="LexEVS5.0DesignandArchitectureGuide-TeamMembers">
  Team Members
</h4>
The following table lists the team members for the implementation.
<table>
  <tbody>
    <tr>
      <th>
        Role
      </th>
      <th>
        Name
      </th>
    </tr>
    <tr>
      <td>
        Development Lead
      </td>
      <td>
        Kevin Peterson
      </td>
    </tr>
    <tr>
      <td>
        Documentation Lead
      </td>
      <td>
        Kevin Peterson
      </td>
    </tr>
    <tr>
      <td>
        Project Manager
      </td>
      <td>
        Tom Johnson
      </td>
    </tr>
  </tbody>
</table>
<h4 id="LexEVS5.0DesignandArchitectureGuide-Description">
  Description
</h4>
The LexEVS grid service will be used to obtain data accessible via the LexEVS service, specifically, the Distributed LexEVS services. Please refer to the
<a href="https://wiki.nci.nih.gov/pages/viewpage.action?pageId=62427407" rel="nofollow">
  LexEVS 5.0 Programmer&#39;s Guide
</a>
for more information.For more Documentation, Build/Deployment instructions and examples, visit
<a href="https://wiki.nci.nih.gov/pages/viewpage.action?pageId=62427403" rel="nofollow">
  LexEVS 5.0 Documentation and Training
</a>
.
<h4 id="LexEVS5.0DesignandArchitectureGuide-Scope">
  Scope
</h4>
The LexEVS Grid service will provide programmatic access to the LexBIG domain objects that are available via the LexBIG information model.The LexEVS grid service will be registered in Cancer Data Standards Repository (caDSR) under the following category:
<table>
  <tbody>
    <tr>
      <td>
        Context
      </td>
      <td>
        caBIG
      </td>
    </tr>
    <tr>
      <td>
        Classification Scheme
      </td>
      <td>
        LexBIG
      </td>
    </tr>
    <tr>
      <td>
        Version
      </td>
      <td>
        LexBIG_v2_3_rv1
      </td>
    </tr>
  </tbody>
</table>
<h4 id="LexEVS5.0DesignandArchitectureGuide-Architecture.1">
  Architecture
</h4>
The LexEVS Grid Service is implemented to expose the API and Model of LexBIG 2.3. For more information on LexBIG, see
<a href="http://informatics.mayo.edu" rel="nofollow">
  Mayo Clinic Informatics
</a>
.LexEVS Grid Service is deployed in a
<a href="http://www.jboss.org/" rel="nofollow">
  JBoss
</a>
Application Server, inside of a
<a href="http://www.globus.org/" rel="nofollow">
  Globus
</a>
Web Application installation. LexEVS Grid Service depends on
<a href="https://wiki.nci.nih.gov/pages/viewpage.action?pageId=62427505" rel="nofollow">
  LexBIG APIs
</a>
, which is also deployed to a JBoss container. For more information on the deployment of EVSAPI, see:
http://gforge.nci.nih.gov/docman/index.php?group_id=366&amp;amp;selected_doc_group_id=1914&amp;amp;language_id=1]
LexEVS API itself depends on an installation of
<a href="http://informatics.mayo.edu" rel="nofollow">
  LexBIG
</a>
).The diagram below shows the various components of the LexEVS Grid Service System and how they interact.Client accesses LexEVS Grid Node Container via SOAP/HTTP. The LexEVS Grid Node accesses EVSAPI and then LexBIG via RMI. LexBIG accesses Database Servers containing vocabulary data. The database servers and loaded vocabulary configuration is a sample only.
<img alt="This graphic shows the Grid Service as described in the text." src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%205.0%20Design%20and%20Architecture%20Guide/LexEVS_GridService_System_Components.jpg?api=v2">
LexEVS Grid Service and EVSAPI need not be deployed to physically separate servers, but it is recommended that if they are co-located on the same server, they should be deployed to separate JBoss containers.Below is the LexEVS Grid Service Architecture, viewed from inside of the Web Service Container. For more information on how Service Contexts and Resources are used, see the
<a href="https://wiki.nci.nih.gov/pages/viewpage.action?pageId=62427406" rel="nofollow">
  #Service Contexts and State
</a>
section below.In the following figure, there is an LexEVS Grid Service Client (Operations) contacting the Web Service Container, which communicates with the Globus/Axis WebApp. Within the Globus/Axis WebApp, a Grid Service communicates with the Service Context that distributes data to LexBIG. The Globus/Axis WebApp comprises Grid Service (LexEVS Grid Service which performs Grid Service Context Calls) and the Service Context. The Service Context comprises:
<ul>
  <li>
    caGRID Service Context
    <ul>
      <li>
        Resource Creator, Resource Home, and Resource Locator.
      </li>
      <li>
        Service Context which performs Service Context Grid Calls.
      </li>
    </ul>
  </li>
  <li>
    Resource Instances
    <ul>
      <li>
        Each of the three Resource Instances comprise Operations and Resource Properties.
      </li>
      <li>
        Each Resource Instance forwards data to LexBIG.
      </li>
    </ul>
  </li>
</ul>
<img alt="This graphic shows the GridService architecture as described in the text." src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%205.0%20Design%20and%20Architecture%20Guide/LexEVS_GridService_Architecture.jpg?api=v2">
<h5 id="LexEVS5.0DesignandArchitectureGuide-LexEVSGridServiceClassDiagram">
  LexEVS Grid Service Class Diagram
</h5>
The LexEVS Grid Service is built on the LexGrid/LexBIG model and implementation. For more information about this model, visit:
Historical link
https://gforge.nci.nih.gov/plugins/scmsvn/viewcvs.php/LexBIG_Core_Services/LexBIG-2.3/lexbig/lbModel/?root=lexevs

Historical link
LexGrid|https://gforge.nci.nih.gov/plugins/scmsvn/viewcvs.php/LexBIG_Core_Services/LexBIG-2.3/lgModel/?root=lexevs
Also, visit
<a href="http://informatics.mayo.edu" rel="nofollow">
  Mayo Clinic Informatics
</a>
for background information as well as Class Diagrams, examples, and other information.For information specific to the LexEVS Grid Service, visit:
Historical link
https://gforge.nci.nih.gov/plugins/scmsvn/viewcvs.php/LexBIG_Core_Services/LexBIG-2.3/lexbig/lbModel.cagrid/?root=lexevs
This link contains Class Diagrams and descriptions for input/output parameters, as well as other information concerning the Silver Level Compliance submission package.
<h5 id="LexEVS5.0DesignandArchitectureGuide-LexEVSGridServiceSequenceDiagram">
  LexEVS Grid Service Sequence Diagram
</h5>
The sequence diagram for the operation &#34;getSupportedCodingSchemes&#34; is described in the text that follows:
<img alt="LexEVS Grid Service Sequence Diagram" src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%205.0%20Design%20and%20Architecture%20Guide/GetSupportedCodingSchemes_Sequence_Diagram.jpg?api=v2">
<h5 id="LexEVS5.0DesignandArchitectureGuide-GeneralCallSequenceExample">
  General Call Sequence Example
</h5>
The client calls caGrid, &#39;getSupportedCodingSchemes()&#39;, caGrid Services calls Distributed LexBIG, &#39;getSupportedCodingSchemes()&#39;, LexBIG returns result of call to caGrid Service, and the results are returned to the client with all the appropriate caGrid security mechanisms.
<img alt="This graphic shows a sample call sequence as described in the text." src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%205.0%20Design%20and%20Architecture%20Guide/General_Call_Sequence_Example.jpg?api=v2">
<h4 id="LexEVS5.0DesignandArchitectureGuide-Assumptions">
  Assumptions
</h4>
<ul>
  <li>
    The LexEVS service will be based on the latest LexEVS 5.0 release.
  </li>
  <li>
    The LexEVS Grid Service will not have any method level security. All security requirements will be handled by the actual deployment of the underlying LexEVS 5.0 service. Please see the &#34;Security&#34; section below for more information on how the LexEVS Grid Service utilizes this security.
  </li>
  <li>
    The LexEVS Grid Service will not be deployed as a &#34;core&#34; service by caGrid at NCICB as was previously done, but rather will now be deployed as a standalone service.
  </li>
  <li>
    The LexEVS Grid Service release schedule will no longer be coupled to the caGrid deployment schedule as previously done.
  </li>
  <li>
    Multiple version of LexEVS Grid Service may be active at the same instance in time depending solely on the availability of the underlining EVSAPI service.
  </li>
</ul>
<h4 id="LexEVS5.0DesignandArchitectureGuide-Dependencies">
  Dependencies
</h4>
<ul>
  <li>
    LexEVS 5.0 service needs to be available and running correctly.
  </li>
  <li>
    The LexEVS service and operations will use the Introduce toolkit to generate the appropriate structure for registering the service into caDSR.
  </li>
</ul>
<h4 id="LexEVS5.0DesignandArchitectureGuide-ThirdPartyTools">
  Third Party Tools
</h4>
<ul>
  <li>
    Introduce Toolkit
  </li>
  <li>
    Globus Toolkit (4.0.3) or appropriate version supported by caGrid 1.2
  </li>
  <li>
    caGrid 1.2 core infrastructure
  </li>
</ul>
<h4 id="LexEVS5.0DesignandArchitectureGuide-Server">
  Server
</h4>
The LexEVS Grid Service will be deployed as a &#34;stand alone&#34; grid service at NCICB.
<h4 id="LexEVS5.0DesignandArchitectureGuide-APIs">
  APIs
</h4>
The main Service API exposed by the LexEVS Grid service will be the
<a href="http://informatics.mayo.edu/LexGrid/downloads/javadocGrid/org/LexGrid/LexBIG/cagrid/interfaces/LexBIGServiceGrid.html" rel="nofollow">
  LexBIGServiceGrid
</a>
Interface. All other APIs will not be directly exposed, but will be made available through Service Contexts.In general, API calls follow this sequence:
<ul>
  <li>
    The client invokes a caGrid Service.
  </li>
  <li>
    caGrid Node Hosting Service uses Distributed LexBIG to implement a call.
  </li>
  <li>
    Distributed LexBIG returns the requested information to caGrid Service.
  </li>
  <li>
    caGrid Service returns a response to the client.
  </li>
</ul>
<img alt="This graphic shows the call sequence as described in the text." src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%205.0%20Design%20and%20Architecture%20Guide/API_Calls_Sequence.jpg?api=v2">
<h4 id="LexEVS5.0DesignandArchitectureGuide-APIExamples">
  API Examples
</h4>
Example clients, service calls, and
<a href="http://gforge.nci.nih.gov/docman/index.php?group_id=491&amp;amp;selected_doc_group_id=3880&amp;amp;language_id=1" rel="nofollow">
  SOAP messages
</a>
(sample code on the LexEVS documentation GForge archive page)Example API usage:Searching for concepts in NCI Thesaurus containing the string &#34;Gene&#34;Java Code Snippet

//Create a Connection to the Grid Service
LexBIGServiceGrid lbs = new LexBIGServiceGridAdapter(gridServiceURL);

//Set up the CodingSchemeIdentification object to define the Coding Scheme&lt;/font&gt;
CodingSchemeIdentification csid = new CodingSchemeIdentification();
csid.setName(&#34;NCI Thesaurus&#34;);

//Get the CodedNodeSet for that CodingScheme (This returns a CodedNodeSet Service Context)
CodedNodeSetGrid cnsg = lbs.getCodingSchemeConcepts(csid, null);
//getCodingSchemeConcepts is a Grid Service Call

//Set the text to match
MatchCriteria matchText = new MatchCriteria();
matchText.setText(&#34;Gene&#34;);
//Define a SearchDesignationOption, if any
SearchDesignationOption searchOption = new SearchDesignationOption();

//Choose an algorithm to do the matching
ExtensionIdentification matchAlgorithm = new ExtensionIdentification();
matchAlgorithm.setLexBIGExtensionName(&#34;contains&#34;);

//Chose a language
LanguageIdentification language = new LanguageIdentification();
language.setIdentifier(&#34;en&#34;);

//Restrict the CodedNodeSet
cnsg.restrictToMatchingDesignations(matchText, searchOption, matchAlgorithm, language);
//restrictToMatchingDesignations is a Grid Service Call

//Create a SetResolutionPolicy to handle the details of Resolving the CodedNodeSet
//Here, we will set the Maximum number of Concepts returned to 10.
SetResolutionPolicy resolvePolicy = new SetResolutionPolicy();
resolvePolicy.setMaximumToReturn(10);

//Do the resolve
ResolvedConceptReferenceList rcrlist = cnsg.resolveToList(resolvePolicy);
//resolveToList is a Grid Service Call

//Use the returned ResolvedConceptReferenceList to print some details about the concepts found
ResolvedConceptReference[] rcref = rcrlist.getResolvedConceptReference();
for (int i = 0; i &lt; rcref.length; i++) {
	System.out.println(rcref[i].getConceptCode());
	System.out.println(rcref[i].getReferencedEntry().
		getPresentation()[0].getText().getContent());

}
<h4 id="LexEVS5.0DesignandArchitectureGuide-ServiceContextsandState">
  Service Contexts and State
</h4>
Along with the Main Service as described, the Server will also host the following Service Contexts. These Service Contexts are not meant to be called directly as Grid Services. The main function of these Service Contexts is to provide additional functionality to the Main Service. The following figure shows how the Service Context comprises a CodedNodeSet that have properties, such as ResolvedConceptReferenceList, Destroy, SetTermination Time, and other tasks.
<img alt="This graphic lists the items under the CodedNodeSet that comprise various properties." src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%205.0%20Design%20and%20Architecture%20Guide/Service_Context_Operations_Example.jpg?api=v2">
<h5 id="LexEVS5.0DesignandArchitectureGuide-ServiceContextOperationsExampleinIntroduce">
  Service Context Operations Example in Introduce
</h5>
ImportantService Contexts are only meant to be called through the Main Service - not directly. Through the Main Service, References to these Service Contexts can be obtained. Calls are made to the Service Contexts through these References.
<h5 id="LexEVS5.0DesignandArchitectureGuide-ObtainingaServiceContextReference">
  Obtaining a Service Context Reference
</h5>
In the figure below, two LexEVS Grid Service Calls are highlighted, &#39;getCodingSchemeConcepts&#39; and &#39;getNodeGraph&#39;. These two Grid Service Calls have been selected because they return to the user a &#34;Reference&#34; to a Service Context. For &#39;getCodingSchemeConcepts&#39;, the return type is CodedNodeSetReference (which references the CodedNodeSet Service Context). For &#39;getNodeGraph&#39;, the return type is CodedNodeGraphReference (which references the CodedNodeGraph Service Context).
<img alt="This graphic shows a Service Context Reference as described in the text." src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%205.0%20Design%20and%20Architecture%20Guide/Service_Context_Reference.jpg?api=v2">
<h5 id="LexEVS5.0DesignandArchitectureGuide-Resources">
  Resources
</h5>
LexEVS Grid Services use the WS-Resource Framework (WSRF) to allow for stateful calls to the server. When a client requests a Service Context, the client is not only issued a Reference to the Service Context that was requested, but to a unique stateful Resource on the server as well. This Resource is used in the LexEVS Grid Services as a way of statefully holding objects for further use by the client.Refer to the following sources for more information:
<ul>
  <li>
    How caGrid uses the WS-Resource Framework (WSRF)
    Link provided for historical purposes http://www.cagrid.org/wiki/Metadata:WSRF
  </li>
  <li>
    <a href="https://cbiit-download.nci.nih.gov/evs/LexEVS/v4.2/Grid/Release/LexEVSGrid.ppt" rel="nofollow">
      How Resources are implemented in the LexEVS Grid Service
    </a>
  </li>
</ul>
<h5 id="LexEVS5.0DesignandArchitectureGuide-ServiceContextSequence">
  Service Context Sequence
</h5>
Service Contexts API calls follow this general process:
<ol>
  <li>
    The client requests a Service Context, such as CodedNodeSet.
  </li>
  <li>
    The Grid Node receives the call and forwards the call to EVSAPI.
  </li>
  <li>
    EVSAPI calls getCodingSchemeConcept on the local LexBIG installation.
  </li>
  <li>
    The Grid Node creates a resource for the CodedNodeSetImpl object for future use.
  </li>
  <li>
    The client is returned the Service Context Client for the CodedNodeSet.
  </li>
</ol>
<img alt="This graphic describes the service context sequence as described in the text." src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%205.0%20Design%20and%20Architecture%20Guide/Service_Context_Sequence.jpg?api=v2">
<h5 id="LexEVS5.0DesignandArchitectureGuide-ServiceContextandResourceAssignment">
  Service Context and Resource Assignment
</h5>
NoteBy default, these services are destroyed 5 minutes after creation.Below is a listing of the supported Service Contexts:
<h5 id="LexEVS5.0DesignandArchitectureGuide-1.CodedNodeSet">
  1. CodedNodeSet
</h5>
<a href="http://informatics.mayo.edu/LexGrid/downloads/javadocGrid/org/LexGrid/LexBIG/cagrid/interfaces/CodedNodeSetGrid.html" rel="nofollow">
  CodedNodeSetGrid Interface
</a>
To construct a CodedNodeSet, the user calls getCodingSchemeConcepts as described. When the user creates a CodedNodeSet through the API call getCodingSchemeConcepts, the server creates and stores the CodedNodeSet server-side as a Resource. This Resource is associated with the client and will be accessible only by the client that created it.CodedNodeSet Call Sequence:
<ol>
  <li>
    The user requests a CodedNodeSet using getCodingSchemeConcepts. Java Code Snippet
    LexBIGService lbs  = (LexBIGService)ApplicationServiceProvider.getApplicationServiceFromUrl(serviceUrl, &#34;EvsServiceInfo&#34;);
    CodedNodeSet cns = lbs.getCodingSchemeConcepts(
    	String codingScheme,
    	org.LexGrid.LexBIG.DataModel.Core.CodingSchemeVersionOrTag);
  </li>
  <li>
    The server calls the Distributed LexBIG getCodingSchemeConcepts method, returning to the server an org.LexGrid.LexBIG.Impl.CodedNodeSetImpl (the implementation of org.LexGrid.LexBIG.LexBIGService.CodedNodeSet) object.
  </li>
  <li>
    The server then creates an org.LexGrid.LexBIG.cagrid.LexBIGCaGridServices.CodedNodeSet.service.globus.resource.CodedNodeSetResource. This Resource will be used to hold the instance of org.LexGrid.LexBIG.Impl.CodedNodeSetImpl, the implementation of org.LexGrid.LexBIG.LexBIGService.CodedNodeSet that was created above.
  </li>
  <li>
    The server returns an org.LexGrid.LexBIG.cagrid.LexBIGCaGridServices.CodedNodeSet.stubs.types.CodedNodeSetReference object to the client. This is the reference to the CodedNodeSet Service Context. This object has a direct reference to the Resource created above. The user now uses this client to make transparent Grid calls through the Service Context.
  </li>
  <li>
    The client may continue to make statefull calls to the CodedNodeSetClient and the assigned Resource.
  </li>
  <li>
    These restrictions are separate calls but statefully maintained on the server via the Resource.
  </li>
</ol>
<h5 id="LexEVS5.0DesignandArchitectureGuide-2.CodedNodeGraph">
  2. CodedNodeGraph
</h5>
<a href="http://informatics.mayo.edu/LexGrid/downloads/javadocGrid/org/LexGrid/LexBIG/cagrid/interfaces/CodedNodeGraphGrid.html" rel="nofollow">
  CodedNodeGraphGrid Interface
</a>
To construct a CodedNodeGraph, the user calls getNodeGraph as described. When the user creates a CodedNodeGraph through the API call getNodeGraph, the server creates and stores the CodedNodeGraph server-side as a Resource. This Resource is associated with the client and will be accessible only by the client that created it.CodedNodeGraph Call Sequence:
<ol>
  <li>
    The user requests a CodedNodeGraph using getCodingSchemeConcepts. Java Code Snippet
    LexBIGService lbs  = (LexBIGService)ApplicationServiceProvider.getApplicationServiceFromUrl(serviceUrl, &#34;EvsServiceInfo&#34;);
    CodedNodeGraph cng = lbs.getNodeGraph(
    String codingScheme,
    org.LexGrid.LexBIG.DataModel.Core.CodingSchemeVersionOrTag,
    String relationsContainerName (Optional);
  </li>
  <li>
    The server calls the Distributed LexBIG getNodeGraph method, returning to the server an org.LexGrid.LexBIG.Impl.CodedNodeGraphImpl (the implementation of org.LexGrid.LexBIG.LexBIGService.CodedNodeGraph) object.
  </li>
  <li>
    The server then creates an org.LexGrid.LexBIG.cagrid.LexBIGCaGridServices.CodedNodeGraph.service.globus.resource.CodedNodeGraphResource. This Resource will be used to hold the instance of org.LexGrid.LexBIG.Impl.CodedNodeGraphImpl, the implementation of org.LexGrid.LexBIG.LexBIGService.CodedNodeGraph that was created above.
  </li>
  <li>
    The server returns an org.LexGrid.LexBIG.cagrid.LexBIGCaGridServices.CodedNodeGraph.stubs.types.CodedNodeGraphReference object to the client. This is the reference to the CodedNodeGraph Service Context. This object has a direct reference to the Resource created above. The user now uses this client to make transparent Grid calls through the Service Context.
  </li>
  <li>
    The client may continue to make statefull calls to the CodedNodeGraphClient and the assigned Resource. For example, the client may add Restrictions to the CodedNodeGraph before a Resolve: Java Code Snippet

    cng.restrictToCodeSystem(org.LexGrid.LexBIG.DataModel.cagrid.CodingSchemeIdentification);
  </li>
  <li>
    These restrictions are separate calls but statefully maintained on the server via the Resource.
  </li>
</ol>
<h5 id="LexEVS5.0DesignandArchitectureGuide-3.LexBIGServiceConvenienceMethods">
  3. LexBIGServiceConvenienceMethods
</h5>
<a href="http://informatics.mayo.edu/LexGrid/downloads/javadocGrid/org/LexGrid/LexBIG/cagrid/interfaces/LexBIGServiceConvenienceMethodsGrid.html" rel="nofollow">
  LexBIGServiceConvenienceMethodsGrid Interface
</a>
To construct a LexBIGServiceConvenienceMethods, the user calls getGenericExtensions as described. When the user creates a LexBIGServiceConvenienceMethods through the API call getGenericExtensions, the server creates and stores the LexBIGServiceConvenienceMethods server-side as a Resource. This Resource is associated with the client and will be accessible only by the client that created it.LexBIGServiceConvenienceMethods Call Sequence:
<ol>
  <li>
    The user requests a LexBIGServiceConvenienceMethods using getGenericExtensions. Java Code Snippet

    LexBIGServiceConvenienceMethodsGrid lbscm = lbs.getGenericExtensions(org.LexGrid.LexBIG.DataModel.cagrid.ExtensionIdentification);
  </li>
  <li>
    The server calls the Distributed LexBIG getGenericExtensions method, returning to the server an org.LexGrid.LexBIG.Impl.Extensions.GenericExtensions.LexBIGServiceConvenienceMethodsImpl (the implementation of org.LexGrid.LexBIG.Extensions.Generic.LexBIGServiceConvenienceMethods) object.
  </li>
  <li>
    The server then creates an org.LexGrid.LexBIG.cagrid.LexBIGCaGridServices.LexBIGServiceConvenienceMethods.service.globus.resource.LexBIGServiceConvenienceMethodsResource. This Resource will be used to hold the instance of org.LexGrid.LexBIG.Impl.Extensions.GenericExtensions.LexBIGServiceConvenienceMethodsImpl, the implementation of org.LexGrid.LexBIG.Extensions.Generic.LexBIGServiceConvenienceMethods that was created above.
  </li>
  <li>
    The server returns an org.LexGrid.LexBIG.cagrid.LexBIGCaGridServicesLexBIGServiceConvenienceMethods.stubs.types.LexBIGServiceConvenienceMethodsReference object to the client. This is the reference to the LexBIGServiceConvenienceMethods Service Context. This object has a direct reference to the Resource created above. This LexBIGServiceConvenienceMethodsClient implements org.LexGrid.LexBIG.Extensions.Generic.LexBIGServiceConvenienceMethods. The user now uses this client to make transparent Grid calls through the Service Context. Because this LexBIGServiceConvenienceMethods implements org.LexGrid.LexBIG.Extensions.Generic.LexBIGServiceConvenienceMethods, API calls will look to the user as being identical to direct LexBIG API calls.
  </li>
  <li>
    The client may continue to make statefull calls to the LexBIGServiceConvenienceMethods Client and the assigned Resource.
  </li>
  <li>
    These API calls are separate calls but statefully maintained on the server via the Resource.
  </li>
</ol>
<h5 id="LexEVS5.0DesignandArchitectureGuide-4.LexBIGServiceMetadata">
  4. LexBIGServiceMetadata
</h5>
<a href="http://informatics.mayo.edu/LexGrid/downloads/javadocGrid/org/LexGrid/LexBIG/cagrid/interfaces/LexBIGServiceMetadataGrid.html" rel="nofollow">
  LexBIGServiceMetadataGrid Interface
</a>
To construct a LexBIGServiceMetadata, the user calls getServiceMetadata as described. When the user creates a LexBIGServiceMetadata through the API call getServiceMetadata , the server creates and stores the LexBIGServiceMetadata server-side as a Resource. This Resource is associated with the client and will be accessible only by the client that created it.LexBIGServiceMetadata Call Sequence:
<ol>
  <li>
    The user requests a LexBIGServiceMetadata using getServiceMetadata. Java Code Snippet

    LexBIGServiceMetadataGrid metadata = lbs.getServiceMetadata();
  </li>
  <li>
    The server calls the Distributed LexBIG getServiceMetadata method, returning to the server an implementation of org.LexGrid.LexBIG.LexBIGService.LexBIGServiceMetadata object.
  </li>
  <li>
    The server then creates an org.LexGrid.LexBIG.cagrid.LexBIGCaGridServices.LexBIGServiceMetadata.service.globus.resource.LexBIGServiceMetadataResource. This Resource will be used to hold the instance of an implementation of org.LexGrid.LexBIG.LexBIGService.LexBIGServiceMetadata.
  </li>
  <li>
    org.LexGrid.LexBIG.cagrid.LexBIGCaGridServices.LexBIGServiceMetadata.stubs.types.LexBIGServiceMetadata object to the client. This is the reference to the LexBIGServiceMetadata Service Context. This object has a direct reference to the Resource created above. The user now uses this client to make transparent Grid calls through the Service Context.
  </li>
  <li>
    The client may continue to make statefull calls to the LexBIGServiceMetadata and the assigned Resource.
  </li>
  <li>
    These API calls are separate calls but statefully maintained on the server via the Resource.
  </li>
</ol>
<h5 id="LexEVS5.0DesignandArchitectureGuide-5.HistoryService">
  5. HistoryService
</h5>
<a href="http://informatics.mayo.edu/LexGrid/downloads/javadocGrid/org/LexGrid/LexBIG/cagrid/interfaces/HistoryServiceGrid.html" rel="nofollow">
  HistoryServiceGrid Interface
</a>
To construct a HistoryService, the user calls getHistoryService as described. When the user creates a HistoryService through the API call getHistoryService, the server creates and stores the HistoryService server-side as a Resource. This Resource is associated with the client and will be accessible only by the client that created it.HistoryService Call Sequence:
<ol>
  <li>
    The user requests a HistoryService using getHistoryService . Java Code Snippet

    HistoryServiceGrid history = lbs.getHistoryService(org.LexGrid.LexBIG.DataModel.cagrid.CodingSchemeIdentification);
  </li>
  <li>
    The server calls the Distributed LexBIG getHistoryService method, returning to the server an implementation of org.LexGrid.LexBIG.History.HistoryService object.
  </li>
  <li>
    The server then creates an org.LexGrid.LexBIG.cagrid.LexBIGCaGridServices.HistoryService.service.globus.resource.HistoryServiceResource. This Resource will be used to hold the instance of an implementation of org.LexGrid.LexBIG.History.HistoryService.
  </li>
  <li>
    The server returns an org.LexGrid.LexBIG.cagrid.LexBIGCaGridServices.LexBIGServiceMetadata.stubs.types.LexBIGServiceMetadata object to the client. This is the reference to the HistoryService Service Context. This object has a direct reference to the Resource created above. The user now uses this client to make transparent Grid calls through the Service Context.
  </li>
  <li>
    The client may continue to make statefull calls to the HistoryServiceClient and the assigned Resource. For example, the client may call any method in org.LexGrid.LexBIG.History.HistoryService Example: history.getLatestBaseline();
  </li>
  <li>
    These API calls are separate calls but statefully maintained on the server via the Resource.
  </li>
</ol>
<h5 id="LexEVS5.0DesignandArchitectureGuide-6.Sort">
  6. Sort
</h5>
<a href="http://informatics.mayo.edu/LexGrid/downloads/javadoc/org/LexGrid/LexBIG/Extensions/Query/Sort.html" rel="nofollow">
  Sort Interface
</a>
To construct a Sort, the user calls getSortAlgorithm as described. When the user creates a Sort through the API call getSortAlgorithm, the server creates and stores the Sort server-side as a Resource. This Resource is associated with the client and will be accessible only by the client that created it.Sort Call Sequence:
<ol>
  <li>
    The user requests a Sort using getSortAlgorithm . Java Code Snippet

    Sort sort = lbs.getSortAlgorithm(org.LexGrid.LexBIG.DataModel.cagrid.ExtensionIdentification);
  </li>
  <li>
    The server calls the Distributed LexBIG getSortAlgorithm method, returning to the server an implementation of org.LexGrid.LexBIG.Extensions.Query.Sort) object.
  </li>
  <li>
    The server then creates an org.LexGrid.LexBIG.cagrid.LexBIGCaGridServices.Sort .service.globus.resource.Sort Resource. This Resource will be used to hold the instance of an implementation of org.LexGrid.LexBIG.Extensions.Query.Sort.
  </li>
  <li>
    The server returns an org.LexGrid.LexBIG.cagrid.LexBIGCaGridServices.service.SortClient object to the client. This is the client to the Sort Service Context. This object has a direct reference to the Resource created above. This SortClient implements org.LexGrid.LexBIG.Extensions.Query.Sort. The user now uses this client to make transparent Grid calls through the Service Context. Because this Sort implements org.LexGrid.LexBIG.Extensions.Query.Sort, API calls will look to the user as being identical to direct LexBIG API calls.
  </li>
  <li>
    The client may continue to make statefull calls to the SortClient and the assigned Resource. For example, the client may call any method in Java Code Snippet

    sort.compare(codedNodeReference1, codedNodeReference2);
  </li>
  <li>
    These API calls are separate calls but statefully maintained on the server via the Resource.
  </li>
</ol>
<h5 id="LexEVS5.0DesignandArchitectureGuide-7.Filter">
  7. Filter
</h5>
<a href="http://informatics.mayo.edu/LexGrid/downloads/javadoc/org/LexGrid/LexBIG/Extensions/Query/Filter.html" rel="nofollow">
  Filter Interface
</a>
To construct a Filter, the user calls getFilter as described. When the user creates a Filter through the API call getFilter, the server creates and stores the Sort server-side as a Resource. This Resource is associated with the client and will be accessible only by the client that created it.Filter Call Sequence:
<ol>
  <li>
    The user requests a Filter using getFilter Java Code Snippet

    Filter filter = lbs.getFilter(org.LexGrid.LexBIG.DataModel.cagrid.ExtensionIdentification);
  </li>
  <li>
    The server calls the Distributed LexBIG getFilter method, returning to the server an implementation of org.LexGrid.LexBIG.Extensions.Query.Filter) object.
  </li>
  <li>
    The server then creates an org.LexGrid.LexBIG.cagrid.LexBIGCaGridServices.Filter.service.globus.resource.FilterResource. This Resource will be used to hold the instance of an implementation of org.LexGrid.LexBIG.Extensions.Query.Filter.
  </li>
  <li>
    The server returns an org.LexGrid.LexBIG.cagrid.LexBIGCaGridServices.service.FilterClient object to the client. This is the client to the Filter Service Context. This object has a direct reference to the Resource created above. This FilterClient implements org.LexGrid.LexBIG.Extensions.Query.Filter. The user now uses this client to make transparent Grid calls through the Service Context. Because this Filter implements org.LexGrid.LexBIG.Extensions.Query.Filter, API calls will look to the user as being identical to direct LexBIG API calls.
  </li>
  <li>
    The client may continue to make statefull calls to the FilterClient and the assigned Resource. For example, the client may call any method in org.LexGrid.LexBIG.Extensions.Query.Filter Java Code Snippet

    filter.match(resolvedConceptReference);
  </li>
  <li>
    These API calls are separate calls but statefully maintained on the server via the Resource.
  </li>
</ol>
<h5 id="LexEVS5.0DesignandArchitectureGuide-8.ResolvedConceptReferencesIterator">
  8. ResolvedConceptReferencesIterator
</h5>
<a href="http://informatics.mayo.edu/LexGrid/downloads/javadoc/org/LexGrid/LexBIG/Utility/Iterators/ResolvedConceptReferencesIterator.html" rel="nofollow">
  ResolvedConceptReferencesIterator Interface
</a>
A ResolvedConceptReferencesIterator is created when a CodedNodeSet or CodedNodeGraph is resolved. It allows results to be returned from the server incrementally instead of all at once. When the user creates a ResolvedConceptReferencesIterator, the server creates and stores the ResolvedConceptReferencesIterator server-side as a Resource. This Resource is associated with the client and will be accessible only by the client that created it.ResolvedConceptReferencesIterator Call Sequence:
<ol>
  <li>
    The user gets a ResolvedConceptReferencesIterator from a Resolve.
  </li>
  <li>
    The server calls the Distributed LexBIG resolve method on the CodedNodeSet, returning to the server an implementation of org.LexGrid.LexBIG.Utility.Iterators.ResolvedConceptReferencesIterator object.
  </li>
  <li>
    The server then creates an org.LexGrid.LexBIG.cagrid.LexBIGCaGridServices.ResolvedConceptReferencesIterator.service.globus.resource.ResolvedConceptReferencesIteratorResource. This Resource will be used to hold the instance of an implementation of org.LexGrid.LexBIG.Utility.Iterators.ResolvedConceptReferencesIterator.
  </li>
  <li>
    The server returns an org.LexGrid.LexBIG.cagrid.LexBIGCaGridServices.service.ResolvedConceptReferencesIteratorClient object to the client. This is the client to the ResolvedConceptReferencesIterator Service Context. This object has a direct reference to the Resource created above. This ResolvedConceptReferencesIteratorClient implements org.LexGrid.LexBIG.Utility.Iterators.ResolvedConceptReferencesIterator. The user now uses this client to make transparent Grid calls through the Service Context. Because this ResolvedConceptReferencesIterator implements org.LexGrid.LexBIG.Utility.Iterators.ResolvedConceptReferencesIterator, API calls will look to the user as being identical to direct LexEVS API calls.
  </li>
  <li>
    The client may continue to make statefull calls to the ResolvedConceptReferencesIteratorClient and the assigned Resource. For example, the client may call any method in org.LexGrid.LexBIG.Utility.Iterators.ResolvedConceptReferencesIterator Java Code Snippet

    while(itr.hasNext){
    ResolvedConceptReference ref = itr.next();
    }
  </li>
  <li>
    These API calls are separate calls but statefully maintained on the server via the Resource.
  </li>
</ol>
<h4 id="LexEVS5.0DesignandArchitectureGuide-ErrorHandling">
  Error Handling
</h4>
<h5 id="LexEVS5.0DesignandArchitectureGuide-ErrorConnectingtoLexEVSGridService">
  Error Connecting to LexEVS Grid Service
</h5>
When connecting through the Java Client, java.net.ConnectException and org.apache.axis.types.URI.MalformedURIException may be thrown upon an unsuccessful attempt to connect.A MalformedURIException is thrown in the case if a poorly-formed URL string. In this case, the exception is thrown before an attempt to connect is even made.If the URL is well-formed, proper connection is tested. If the connection attempt fails, a ConnectException is thrown containing the reason for the failure.Java Code

try{
LexBIGServiceGridAdapter lbsg = new LexBIGServiceGridAdapter
(&#34;http://localhost:8080/wsrf/services/cagrid/LexEVSGridService&#34;);
} catch(java.net.ConnectException e){
//Error Connecting
e.printStackTrace();
} catch(org.apache.axis.types.URI.MalformedURIException e){
//URL Syntax Error
e.printStackTrace();
}

This example shows a typical connection to the LexEVS Grid Service, with the two potential Exceptions being caught and handled as necessary.
<h5 id="LexEVS5.0DesignandArchitectureGuide-LexBIGErrors">
  LexBIG Errors
</h5>
LexBIG errors will be forwarded through the Distributed LexEVS layer and then on to the Grid layer. Input parameters, along with any other LexBIG (or Distributed LexBIG) errors will be detected on the server, not the client, and forwarded. All Generic LexEVS (or Distributed LexEVS) errors will be forwarded via a RemoteException, with the cause of the error and underlying LexEVS error message included.
<h5 id="LexEVS5.0DesignandArchitectureGuide-InvalidServiceContextAccess">
  Invalid Service Context Access
</h5>
Service Context Services are not meant to be called directly. If the client attempts to do so, an org.LexGrid.LexBIG.cagrid.LexEVSGridService.CodedNodeSet.stubs.types.InvalidServiceContextAccess Exception will be thrown. This indicates a call was made to a Service Context without obtaining a Service Context Reference via the Main Service (see the above section Service Contexts and State for more information).
<h4 id="LexEVS5.0DesignandArchitectureGuide-Client">
  Client
</h4>
The Introduce toolkit generates a &#34;client&#34; class that will be provided to the users.
<h4 id="LexEVS5.0DesignandArchitectureGuide-SecurityIssues">
  Security Issues
</h4>
Security in the LexEVS Grid Service is implemented in the Distributed LexBIG layer. The information in this section explains how the LexEVS Grid Services utilize this security implementation. For more information, see Distributed LexBIG Security Implementation: LexBIG Access to Licensed Vocabulary Implementation, attached to the
<a href="https://wiki.nci.nih.gov/display/GFORGEARCHIVES/Docs+Archive+Page+-+evsapi" rel="nofollow">
  EVS API GForge documents archive
</a>
.
<h5 id="LexEVS5.0DesignandArchitectureGuide-LexEVSGridServiceSecurity">
  LexEVS Grid Service Security
</h5>
Certain vocabulary content accessible through the LexEVS Grid Service may require extra authorization to access. Each client is required to supply its own access credentials via Security Tokens. These Security Tokens are implemented by a SecurityToken object: Name: SecurityToken Namespace: gme://caCORE.caCORE/3.2/gov.nih.nci.evs.security Package: gov.nih.nci.evs.security&lt;/font&gt;
<h5 id="LexEVS5.0DesignandArchitectureGuide-AccessingSecureContent">
  Accessing Secure Content
</h5>
A client establishes access to a secured vocabulary via the following Grid Service Calls:
<ol>
  <li>
    Step 1:Connect to the LexBIG caGrid Service
    LexBIGServiceGrid lbs = new LexBIGServiceGridAdapter(url);
  </li>
  <li>
    Step 3:Build an org.LexGrid.LexBIG.DataModel.cagrid.CodingSchemeIdentification to hold the Coding Scheme name.
    CodingSchemeIdentification codingScheme = new CodingSchemeIdentification();
    codingScheme.setName(&#34;codingScheme&#34;);
  </li>
  <li>
    Step 4:Build an gov.nih.nci.evs.security.SecurityToken containing the security information for the desired Coding Scheme.
    SecurityToken token = new SecurityToken();
    token.setAccessToken(&#34;securityToken&#34;);
  </li>
  <li>
    Step 5:Invoke the LexBIG caGrid service as follows: This will return a reference to a new &#34;LexBIGServiceGrid&#34; instance that is associated with the security properties that were passed in.
    LexBIGServiceGrid lbsg = lbs.setSecurityToken(codingScheme, token);

    It is important to note that the Grid Service &#34;setSecurityToken&#34; returns an org.LexGrid.LexBIG.cagrid.LexEVSGridService.stubs.types  .LexEVSGridServiceReference.LexEVSGridServiceReference  object. This reference must be used to access the secured vocabularies.
  </li>
</ol>
<h5 id="LexEVS5.0DesignandArchitectureGuide-Implementation">
  Implementation
</h5>
Each call to &#34;setSecurityToken&#34; sets up a secured connection to Distributed LexBIG with the access privileges included in the SecurityToken parameter. The LexEVSGridServiceReference that is returned to the client contains a unique key identifier to the secure connection that has been created on the server. All subsequent calls the client makes through this LexEVSGridServiceReference will be made securely. If additional SecurityTokens are passed in through the &#34;setSecurityToken&#34; Grid Service, the additional security will be added and maintained.The &#34;setSecurityToken&#34; Grid Service is a stateful service. This means that after the client sets a SecurityToken, any subsequent call will be applied to that SecurityToken.Secure connections are not maintained on the server indefinitely, but are based on load conditions. The server will allow 30 unique secure connections to be set up for clients without any time limitations. As additional requests for secure connections are received by the server, connections will be released by the server on an &#39;oldest first&#39; basis. No connection, however, may be released prior to 5 minutes after its creation.If no SecurityTokens are passed in by the client, a non-secure Distributed LexBIG connection will be used. The server maintains one (and only one) un-secured Distributed LexBIG connection that is shared by any client not requesting security.NoteAll non-secured information accessed by the LexEVS Grid Service is publicly available from NCICB and users are expected to follow the licensing requirements currently in place for accessing and using NCI EVS information.
<h4 id="LexEVS5.0DesignandArchitectureGuide-Performance">
  Performance
</h4>
The LexEVS service will take advantage of all improvements made to the LexEVS API services with the exception of lazy loading. LexEVS grid service, being in nature a web service is currently not taking advantage of lazy loading since objects are transferred as fully populated objects. However, future releases of LexEVS Grid Service may refractor the interface in such as way as to take advantage of some of the benefits brought about by the inclusion of lazy loading in to LexEVS API service.LexEVS Grid Services utilize the performance enhancements of the LexBIG API. For more information about LexBIG performance (which LexEVS Grid Services are dependent on), see
<a href="http://informatics.mayo.edu" rel="nofollow">
  Mayo Clinic Informatics
</a>
.
<h4 id="LexEVS5.0DesignandArchitectureGuide-InstallationandPackaging">
  Installation and Packaging
</h4>
The service will be installed and deployed as a &#34;stand alone&#34; service at NCICB.
<h4 id="LexEVS5.0DesignandArchitectureGuide-Migration">
  Migration
</h4>
Both the current version of LexEVS grid service may be &#34;in service&#34; simultaneously if the corresponding underlying EVSAPI service is also &#34;in service&#34; to manage migration of clients.
<h4 id="LexEVS5.0DesignandArchitectureGuide-SystemTesting">
  System Testing
</h4>
<a href="https://wiki.nci.nih.gov/pages/viewpage.action?pageId=189825334" rel="nofollow">
  LexEVS Grid Service Testing Documentation
</a>
(LexEVS Grid Service System Testing in the Project Documents, Development Documents section)
<h4 id="LexEVS5.0DesignandArchitectureGuide-DOCUMENTAPPROVAL">
  DOCUMENT APPROVAL
</h4>
<h5 id="LexEVS5.0DesignandArchitectureGuide-ApproversList">
  Approvers List
</h5>
The individuals listed in this section constitute the approvers list for the Integration Test Plan document. Formal approval must be received from all approvers prior to the initiation of the next steps in the process.
<table>
  <tbody>
    <tr>
      <th>
        TITLE
      </th>
      <th>
        NAME
      </th>
    </tr>
    <tr>
      <td>
        Project Manager
      </td>
      <td>
        Name
      </td>
    </tr>
    <tr>
      <td>
        Development Manager
      </td>
      <td>
        Name
      </td>
    </tr>
  </tbody>
</table>
<h5 id="LexEVS5.0DesignandArchitectureGuide-ReviewersList">
  Reviewers List
</h5>
The individuals listed in this section constitute the reviewers list for the Master Test Plan document. Formal approval is not required from the reviewers, however, it is desirable to have all reviewers review and comment on the document. Reviewers may choose to concentrate on reviewing only those sections that are in their area of responsibility, rather than the entire document.
<table>
  <tbody>
    <tr>
      <th>
        TITLE
      </th>
      <th>
        NAME
      </th>
    </tr>
    <tr>
      <td>
        Technical Writer
      </td>
      <td>
        Name
      </td>
    </tr>
  </tbody>
</table>
<h2 id="LexEVS5.0DesignandArchitectureGuide-LexEVSLoaderSourceMapping">
  LexEVS Loader Source Mapping
</h2>
This section is now moved to separate pages to provide details on how different formats are loaded into the LexEVS model.
<ul>
  <li>
    For LexEVS v5.0, see
    <a href="https://wiki.nci.nih.gov/pages/viewpage.action?pageId=62427424" rel="nofollow">
      LexEVS 5.0 Loader Source Mapping
    </a>
    .
  </li>
  <li>
    For LexEVS v5.1, which includes enhancements to the loader framework, see
    <a href="https://wiki.nci.nih.gov/pages/viewpage.action?pageId=62427425" rel="nofollow">
      LexEVS 5.1 Loader Source Mapping
    </a>
    .
  </li>
</ul>