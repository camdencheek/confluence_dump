Contents of this Page
<ul>
  <li>
    <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-ValueSetDefinition" rel="nofollow">
      Value Set Definition
    </a>
    <ul>
      <li>
        <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-ComparedtoISO11179model" rel="nofollow">
          Compared to ISO 11179 model
        </a>
      </li>
      <li>
        <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-ComparedtoHL7ValueSet" rel="nofollow">
          Compared to HL7 Value Set
        </a>
      </li>
    </ul>
  </li>
  <li>
    <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-ValueSetDefinitionlogicalmodel" rel="nofollow">
      Value Set Definition logical model
    </a>
  </li>
  <li>
    <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-ValueSetDefinitionlogicalmodeldescription" rel="nofollow">
      Value Set Definition logical model description
    </a>
    <ul>
      <li>
        <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-ValueSetDefinition.1" rel="nofollow">
          Value Set Definition
        </a>
      </li>
      <li>
        <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-ValueSetDefinitionEntry" rel="nofollow">
          Value Set Definition Entry
        </a>
        <ul>
          <li>
            <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-CodingSchemeReference" rel="nofollow">
              Coding Scheme Reference
            </a>
          </li>
          <li>
            <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-ValueSetReferences" rel="nofollow">
              Value Set References
            </a>
          </li>
          <li>
            <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-EntityReference" rel="nofollow">
              Entity Reference
            </a>
          </li>
          <li>
            <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-PropertyReference" rel="nofollow">
              Property Reference
            </a>
          </li>
          <li>
            <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-PropertyMatchValue" rel="nofollow">
              Property Match Value
            </a>
          </li>
          <li>
            <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-DefinitionOperator" rel="nofollow">
              Definition Operator
            </a>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-PossibleformsofValueSetDefinitions" rel="nofollow">
      Possible forms of Value Set Definitions
    </a>
    <ul>
      <li>
        <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-FictitiousExamplesofValueSetDefinitions" rel="nofollow">
          Fictitious Examples of Value Set Definitions
        </a>
      </li>
      <li>
        <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-Example1" rel="nofollow">
          Example 1
        </a>
      </li>
      <li>
        <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-Example2" rel="nofollow">
          Example 2
        </a>
      </li>
    </ul>
  </li>
  <li>
    <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-ValueSetDefinitionResolution" rel="nofollow">
      Value Set Definition Resolution
    </a>
  </li>
  <li>
    <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-ValueSetDefinitionVersions" rel="nofollow">
      Value Set Definition Versions
    </a>
    <ul>
      <li>
        <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-ValueSetServices" rel="nofollow">
          Value Set Services
        </a>
      </li>
      <li>
        <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-MajorfunctionsprovidedbyValueSetDefinitionServices" rel="nofollow">
          Major functions provided by Value Set Definition Services
        </a>
      </li>
    </ul>
  </li>
  <li>
    <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-CTS2specificValueSetServices" rel="nofollow">
      CTS 2 specific Value Set Services
    </a>
    <ul>
      <li>
        <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-LoadScripts" rel="nofollow">
          Load Scripts
        </a>
      </li>
      <li>
        <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-ValueSetDefinitionLoader" rel="nofollow">
          Value Set Definition Loader
        </a>
      </li>
    </ul>
  </li>
  <li>
    <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-PickListDefinition" rel="nofollow">
      Pick List Definition
    </a>
    <ul>
      <li>
        <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-PickListDefinitionlogicalmodel" rel="nofollow">
          Pick List Definition logical model
        </a>
      </li>
      <li>
        <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-PickListDefinitionlogicalmodeldescription" rel="nofollow">
          Pick List Definition logical model description
        </a>
        <ul>
          <li>
            <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-PickListDefinition.1" rel="nofollow">
              Pick List Definition
            </a>
          </li>
          <li>
            <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-PickListEntryNode" rel="nofollow">
              Pick List Entry Node
            </a>
          </li>
          <li>
            <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-PickListEntry" rel="nofollow">
              Pick List Entry
            </a>
          </li>
          <li>
            <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-PickListEntryExclusion" rel="nofollow">
              Pick List Entry Exclusion
            </a>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-PossibleformsofPickListDefinitions" rel="nofollow">
      Possible forms of Pick List Definitions
    </a>
    <ul>
      <li>
        <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-FictitiousexamplesofPickListDefinitions" rel="nofollow">
          Fictitious examples of Pick List Definitions
        </a>
        <ul>
          <li>
            <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-Example1.1" rel="nofollow">
              Example 1
            </a>
          </li>
          <li>
            <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-Example2.1" rel="nofollow">
              Example 2
            </a>
          </li>
        </ul>
      </li>
      <li>
        <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-PickListDefinitionVersions" rel="nofollow">
          Pick List Definition Versions
        </a>
      </li>
    </ul>
  </li>
  <li>
    <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-PickListServices" rel="nofollow">
      Pick List Services
    </a>
    <ul>
      <li>
        <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-MajorfunctionsprovidedbyPickListServices" rel="nofollow">
          Major functions provided by Pick List Services
        </a>
      </li>
    </ul>
  </li>
  <li>
    <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-CTS2specificPickListServices" rel="nofollow">
      CTS 2 specific Pick List Services
    </a>
    <ul>
      <li>
        <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-LoadScripts.1" rel="nofollow">
          Load Scripts
        </a>
      </li>
      <li>
        <a href="#LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-PickListLoader" rel="nofollow">
          Pick List Loader
        </a>
      </li>
    </ul>
  </li>
</ul>
Document Information
Author: Craig Stancl, Sridhar Dwarkanath
Email: stancl.craig@mayo.edu, dwarkanath.sridhar@mayo.edu
Team: LexEVS
Contract: CBITT BOA Subcontract# 29XS223
Client: NCI CBIIT
National Institutes of Heath
US Department of Health and Human Services


Revision History
<table>
  <tbody>
    <tr>
      <th>
        Version
      </th>
      <th>
        Date
      </th>
      <th>
        Description of Changes
      </th>
      <th>
        Author
      </th>
    </tr>
    <tr>
      <td>
        1.0
      </td>
      <td>
        5/14/10
      </td>
      <td>
        Initial Version Approved via Design Review
      </td>
      <td>
        Team
      </td>
    </tr>
  </tbody>
</table>
<h2 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-ValueSetDefinition">
  Value Set Definition
</h2>
Value Set Definition with in the LexGrid logical model defines the contents of Value Set. The contents are concept codes defined in referencing Code System. Value Set can contain concept codes from one or more Code Systems.
<h3 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-ComparedtoISO11179model">
  Compared to ISO 11179 model
</h3>
The LexGrid &#34;value set definition&#34; is analogous to the 11179 enumerated conceptual domain. We support the notion of an intrinsically defined enumerated domain, so the 11179 enumerated conceptual domain is really the output of the resolve value set definition function.

Value meanings are identified by entity codes within a given code system. The mapping between permissible values and value meanings is currently accomplished via a mapping association, where we treat the set of permissible values as a &#34;mini code system&#34;. An example of how this might work is that HL7 has a set of permissible values of &#34;M&#34;, &#34;F&#34;, &#34;U&#34;, which are in the administrative gender &#34;code system&#34;. In the pure HL7 context, these might well map to the equivalent value meanings identified by &#34;M&#34;, &#34;F&#34; and &#34;U&#34;. If, however, we were using, say, the UMLS as a source of meaning, the same codes would map to the corresponding UMLS CUIs.
<h3 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-ComparedtoHL7ValueSet">
  Compared to HL7 Value Set
</h3>
The term &#34;value set&#34;, when discussed in the context of HL7 can be somewhat ambiguous. There are at least three related artifacts that are sometimes called &#34;value sets&#34;, including 1) a definition or algorithm that, when interpreted, produces a set of concept codes, 2) the actual set of concept codes that result from the execution of a the definition or algorithm, and 3) a subset of this set of concept codes coupled with appropriate designations and identifying information. For this reason, the LexEVS model uses the names &#34;value set definition&#34;, &#34;value set resolution&#34; and &#34;pick list definition&#34;, &#34;pick list resolution&#34; respectively to represent the three different senses of &#34;value set&#34; described above.
<h2 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-ValueSetDefinitionlogicalmodel">
  Value Set Definition logical model
</h2>
<img alt="diagram of value set definition model" src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%206.0%20Design%20Document%20-%20Detailed%20Design%20-%20Value%20Set%20Definition/ValueSetDefinitionModel.jpg?api=v2">
<h2 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-ValueSetDefinitionlogicalmodeldescription">
  Value Set Definition logical model description
</h2>
<h3 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-ValueSetDefinition.1">
  Value Set Definition
</h3>
A definition of a given value set. A value set definition can be a simple description with no associated value set entries, or it can consist of one or more definitionEntries that resolve to an enumerated list of entityCodes when applied to one or more codingScheme versions.

Attributes of Value Set Definition:
Source: The local identifiers of the source(s) of this property. Must match a local id of a supportedSource in the corresponding mappings section.
representsRealmOrContext: The local identifiers of the context(s) in which this value set applies. Must match a local id of a supportedContext in the corresponding mappings section.
valueSetDefinitionURI: The URI of this value set definition.
valueSetDefinitionName: The name of this value set definition, if any.
defaultCodingScheme: Local name of the primary coding scheme from which the set is drawn. defaultCodingScheme must match a local id of a supportedCodingScheme in the mappings section.
conceptDomain: Local name of the concept domain. When present, the contents of value set are considered to be bound to this specific concept domain. conceptDomain must match a local id of a supportedConceptDomain in the mappings section.
<h3 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-ValueSetDefinitionEntry">
  Value Set Definition Entry
</h3>
A reference to an entry code, a coding scheme, entity code property name or value, or another value set definition along with the instructions about how the reference is applied. Definition entries are applied in entryOrder, with each successive entry either adding to or subtracting from the final set of entity codes.

Attributes of Value Set Definition Entry :
ruleOrder: The unique identifier of the definition entry within the definition as well as the relative order in which this entry should be applied
operator: How this entry is to be applied to the value set
<h4 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-CodingSchemeReference">
  Coding Scheme Reference
</h4>
A reference to all of the entity codes in a given coding scheme.

Attributes of Coding Scheme Reference :
codingScheme: The local identifier of the coding scheme that the entity codes are drawn from . codingSchemeName must match a local id of a supportedCodingScheme in the mappings section.
<h4 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-ValueSetReferences">
  Value Set References
</h4>
A reference to the set of codes defined in another value set definition.

Attributes of Value Set Reference :
valueSetDefinitionURI: The URI of the value set definition to apply the operator to. This value set may be contained within the local service or may need to be resolved externally.
<h4 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-EntityReference">
  Entity Reference
</h4>
A reference to an entityCode and/or one or more entityCodes that have a relationship to the specified entity code.

Attributes of Entity Reference :
entityCode: The entity code being referenced.
entityCodeNamespace: Local identifier of the namespace of the entityCode. entityCodeNamespace must match a local id of a supportedNamespace in the corresponding mappings section. If omitted, the URI of the defaultCodingScheme will be used as the URI of the entity code.
leafOnly: If true and referenceAssociation is supplied and referenceAssociation is defined as transitive, include all entity codes that are &#34;leaves&#34; in transitive closure of referenceAssociation as applied to entity code. Default: false
referenceAssociation: The local identifier of an association that appears in the native relations collection in the default coding scheme. This association is used to describe a set of entity codes. If absent, only the entityCode itself is included in this definition.
targetToSource: If true and referenceAssociation is supplied, navigate from entityCode as the association target to the corresponding sources. If transitiveClosure is true and the referenceAssociation is transitive, include all the ancestors in the list rather than just the direct &#34;parents&#34; (sources).
transitiveClosure: If true and referenceAssociation is supplied and referenceAssociation is defined as transitive, include all entity codes that belong to transitive closure of referenceAssociation as applied to entity code. Default: false
<h4 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-PropertyReference">
  Property Reference
</h4>
A reference to a propertyName or propertyValue and matchAlgoritm to use.

Attributes of Property Reference :
codingScheme: The local identifier of the codingScheme that this propertyReference will be resolved against. codingScheme must match a local id of a supportedCodingscheme in the corresponding mappings section.
propertyName: The local identifier to be used to restrict the entities to have property with this name. Must match a local id of a supportedProperty in the corresponding mappings section.
propertyMatchValue: Value to be used to restrict entity property. matchAlgorithm can be used in conjunction to get matching entity properties.
<h4 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-PropertyMatchValue">
  Property Match Value
</h4>
Property match value to be used to restrict entity property. matchAlgorithm can be used in conjunction to get matching entity properties.

Attributes of Property Match Value :
matchAlgorithm: Algorithm to be used in conjunction with propertyValue.
<h4 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-DefinitionOperator">
  Definition Operator
</h4>
The description of how a given definition entry is applied.

Attributes of Definition Operator :
OR: Add the set of entityCodes described by the currentEntity to the value set. (logical OR)
SUBTRACT: Subtract (remove) the set of entityCodes described by the currentEntity to the value set. (logical NAND)
AND: Only include the entity codes that are both in the value set and the definition entry. (logical AND)
<h2 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-PossibleformsofValueSetDefinitions">
  Possible forms of Value Set Definitions
</h2>
<ul>
  <li>
    Definition containing just the reference to Code System - includes all the concept codes in the referencing code system.
  </li>
  <li>
    Definition containing just the reference to other Value Set Definition -includes all the concept codes defined in the referencing Value Set Definition.
  </li>
  <li>
    Definition containing reference to Code System plus concept codes - includes individual concept codes defined in the definition from the referencing code system.
  </li>
  <li>
    Definition containing reference to Code System plus concept codes plus relationship plus additional rules (leaf only, immediate children, matching property name/value etc) - includes concept codes from the referencing code system that satisfies the rule set defined in the definition.
  </li>
  <li>
    Combination of any of the above with OR/AND/SUBTRACT operations.
  </li>
</ul>
Definition of the Value Set could be as simple as specifying just individual concept codes or specifying to include all the children of concept &#39;Body Structure&#39; from Code System &#39;SNOMED CT&#39; to complex definition containing multiple rule sets.
<h3 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-FictitiousExamplesofValueSetDefinitions">
  Fictitious Examples of Value Set Definitions
</h3>
<h3 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-Example1">
  Example 1
</h3>
<img alt="illustration of example" src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%206.0%20Design%20Document%20-%20Detailed%20Design%20-%20Value%20Set%20Definition/VSDExample1.jpg?api=v2">
<h3 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-Example2">
  Example 2
</h3>
<img alt="illustration of example" src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%206.0%20Design%20Document%20-%20Detailed%20Design%20-%20Value%20Set%20Definition/VSDExample2.jpg?api=v2">
<h2 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-ValueSetDefinitionResolution">
  Value Set Definition Resolution
</h2>
<ul>
  <li>
    A value set definition has to be made against a specific version of a code system.
  </li>
  <li>
    But it doesn&#39;t have to be resolved against the same version.
  </li>
  <li>
    Even a simple list (a, b, c, d) needs to be resolved as, at some future date, &#34;c&#34; might be retired.
  </li>
  <li>
    Resolution does not create static artifact.
  </li>
</ul>
<h2 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-ValueSetDefinitionVersions">
  Value Set Definition Versions
</h2>
Value Set Definitions are versioned. The version of Value Set Definition changes when ever the definition is changed, it could be adding or removing Code System reference or changes in the rule set.
<h3 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-ValueSetServices">
  Value Set Services
</h3>
LexEVS Value Set Services is an integral part of LexEVS Core API. It provides:
<ul>
  <li>
    Ability to load Value Set Definitions into LexGrid repository
  </li>
  <li>
    Ability to apply user restrictions and dynamically resolve the definitions during run time
  </li>
  <li>
    Ability to author Value Set Definition
  </li>
</ul>
<h3 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-MajorfunctionsprovidedbyValueSetDefinitionServices">
  Major functions provided by Value Set Definition Services
</h3>
<ul>
  <li>
    Administration functions:
    <ul>
      <li>
        Ability to load Value Set Definitions into LexGrid repository.
      </li>
      <li>
        Ability to remove Value Set Definitions from LexGrid repository.
      </li>
      <li>
        Here are some of the admin methods available:
        <ul>
          <li>
            loadValueSetDefinition(ValueSetDefinition vddef, String systemReleaseURI) - Loads supplied valueSetDefinition object
          </li>
          <li>
            loadValueSetDefinition(InputStream inputStream, boolean failOnAllErrors) - Loads valueSetDefinitions found in inputStream
          </li>
          <li>
            loadValueSetDefinition(String xmlFileLocation, boolean failOnAllErrors) - Loads valueSetDefinitions found in input xml file
          </li>
          <li>
            removeValueSetDefinition(URI valueSetDefinitionURI) - Removes supplied value set definition from the system
          </li>
          <li>
            removeAllValueSetDefinitions() - Removes all value set definitions from the system
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>
<ul>
  <li>
    Query functions:
    <ul>
      <li>
        Ability to list all the Value Set Definitions loaded in the system.
      </li>
      <li>
        Ability to dynamically resolve Value Set Definition with/without user supplied restrictions.
      </li>
      <li>
        Ability to check if a concept code is part of given Value Set.
      </li>
      <li>
        Ability to check if one Value Set is sub set of other Value Set.
      </li>
      <li>
        Here are some of the query methods available:
        <ul>
          <li>
            isConceptInSet(String entityCode, URI valueSetDefinitionURI) - Determine if the supplied entity code is a valid result for the supplied value set and, if it is, return the particular codingSchemeVersion that was used
          </li>
          <li>
            isConceptInSet(String entityCode, URI entityCodeNamespace, CodingSchemeVersionOrTag csvt, URI valueSetDefinitionURI) - Similar to previous method, this method determine if the supplied entity code and entity namespace is a valid result for the supplied value set when resolved against supplied Coding Scheme Version or Tag
          </li>
          <li>
            resolveValueSetDefinition(URI valueSetDefinitionURI, AbsoluteCodingSchemeVersionReferenceList csVersionList) - Resolve a value set using the supplied set of coding scheme versions
            <ul>
              <li>
                ResolvedValueSetDefinition : A resolved Value Set Definition containing the Coding Scheme Version reference list that was used to resolve the Value Set and an iterator for resolved concepts
              </li>
            </ul>
          </li>
          <li>
            getValueSetEntitiesForTerm(String term, URI valueSetDefinitionURI, String matchAlgorithm) - Resolves the value set supplied and restricts to the term and matchAlgorithm supplied
            <ul>
              <li>
                ResolvedValueSetCodedNodeSet : Contains the codingScheme URI and Version that was used to resolve and the CodedNodeSet. Note : the CodedNodeSet is unresolved
              </li>
            </ul>
          </li>
          <li>
            isSubSet(URI childValueSetDefinitionURI, URI parentValueSetDefinitionURI) - Check whether childValueSetDefinitionURI is a child of parentValueSetDefinitionURI
          </li>
          <li>
            getValueSetDefinition(URI valueSetDefinitionURI) - Returns value set definition for supplied value set definition URI
          </li>
          <li>
            listValueSetDefinitions(String valueSetDefinitionName) - Return the URI&#39;s for the value set definition(s) for the supplied name
          </li>
          <li>
            getAllValueSetDefinitionsWithNoNames() - Return the URI&#39;s of all unnamed value set definition(s)
          </li>
          <li>
            getCodingSchemesInValueSetDefinition(URI valueSetDefinitionURI) - Returns list of coding scheme summary that is referenced by the supplied value set definition URI
          </li>
          <li>
            isValueSet(String entityCode, String codingSchemeName, CodingSchemeVersionOrTag csvt) - Determine if the supplied entity code is of type valueSet in supplied coding scheme and, if it is, return the true, otherwise return false
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>
<ul>
  <li>
    Authoring functions:
    <ul>
      <li>
        valueSetDefinition and definitionEntry classes are versionable entities in LexGrid model. Following authoring functions can be performed on them:
        <ul>
          <li>
            NEW : Create new Value Set Definition or add new defintionEntry to existing Value Set Definition.
          </li>
          <li>
            MODIFY : Modify existing attributes of Value Set Definition or definitionEntry.
          </li>
          <li>
            REMOVE : Ability to completely remove Value Set Definition or definitionEntry. This is not the same as deprecated, as the entity ceases to exist in future versions.
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>
Refer to Revision section of this document for information on how revisions can be applied and how LexEVS handles them.
<h2 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-CTS2specificValueSetServices">
  CTS 2 specific Value Set Services
</h2>
CTS 2 specification uses term &#34;Value Set&#34; which is basically LexEVS implementation of &#34;Value Set Definition&#34;. Though, CTS 2 implementation functions uses term &#34;Value Set&#34;, internally, the LexEVS Value Set Definition Services are used. CTS 2 specification contains several Value Set specific profiles as described in the
<a href="https://wiki.nci.nih.gov/pages/viewpage.action?pageId=25137130" rel="nofollow">
  LexEVS 6.0 Design Document - Solution Architecture
</a>
section. All of these functions can be called using CTS 2 interface as described in the
<a href="https://wiki.nci.nih.gov/pages/viewpage.action?pageId=25137130" rel="nofollow">
  LexEVS 6.0 Design Document - Solution Architecture
</a>
section.

Here are CTS 2 profiles specific to Value Sets:
<ul>
  <li>
    Administration profile:
    <table>
      <tbody>
        <tr>
          <th>
            Function
          </th>
          <th>
            Definition
          </th>
        </tr>
        <tr>
          <td>
            Import Value Set Version
          </td>
          <td>
            Ability to import values sets
          </td>
        </tr>
      </tbody>
    </table>
  </li>
</ul>
<ul>
  <li>
    Query profile:
    <table>
      <tbody>
        <tr>
          <th>
            Function
          </th>
          <th>
            Definition
          </th>
        </tr>
        <tr>
          <td>
            List Value Sets
          </td>
          <td>
            The ability to determine what value sets are available to a Terminology Service. This includes seeing a listing of the available value sets that match some search criteria, as well as the details pertaining to each value set available to the terminology service.
          </td>
        </tr>
        <tr>
          <td>
            Return Value Set Details
          </td>
          <td>
            The ability to retrieve a specific value set, with associated attributes and other metadata.
          </td>
        </tr>
        <tr>
          <td>
            List Value Set Contents
          </td>
          <td>
            The ability to see a listing of specific concepts, as well as the details pertaining to each concept in any of the given value sets available to a terminology service.
          </td>
        </tr>
        <tr>
          <td>
            Check Concept Value Set Membership
          </td>
          <td>
            The ability to validate that a given concept exists in a given value set.
          </td>
        </tr>
        <tr>
          <td>
            Check Value Set Subsumption
          </td>
          <td>
            Determine whether one of the two supplied value sets subsumes the other
          </td>
        </tr>
      </tbody>
    </table>
  </li>
</ul>
<ul>
  <li>
    Authoring profile:
    <table>
      <tbody>
        <tr>
          <th>
            Function
          </th>
          <th>
            Definition
          </th>
        </tr>
        <tr>
          <td>
            Create Value Set
          </td>
          <td>
            The ability to create a dynamic value set that is defined by a computable expression that can be resolved to an exact list of coded concepts at any given point in time.
          </td>
        </tr>
        <tr>
          <td>
            Maintain Value Set
          </td>
          <td>
            Update properties or expression of a value set definition (extensional and intensional value sets).
          </td>
        </tr>
        <tr>
          <td>
            Update Value Set Status
          </td>
          <td>
            The ability to modify the status of a value set.
          </td>
        </tr>
      </tbody>
    </table>
  </li>
</ul>
<h3 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-LoadScripts">
  Load Scripts
</h3>
Scripts to load Value Set Definitions into LexEVS system will be located under &#39;Admin&#39; folder of LexEVS install directory. This loader scripts will only load data in XML file that is in LexGrid format.
<h3 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-ValueSetDefinitionLoader">
  Value Set Definition Loader
</h3>
LoadValueSetDefinition.bat for Windows environment and LoadValueSetDefinition.sh for Unix environment.
Both these scripts takes in following parameters :
<table>
  <tbody>
    <tr>
      <td>
        -in
      </td>
      <td>
        Input &lt;uri&gt; URI or path specifying location of the source file.
      </td>
    </tr>
    <tr>
      <td>
        -v
      </td>
      <td>
        Validate &lt;int&gt; Perform validation of the candidate resource without loading data.
        Supported levels of validation includes :
        0 = Verify document is well-formed
        1 = Verify document is valid
      </td>
    </tr>
  </tbody>
</table>
Example:

sh LoadValueSetDefinition.sh -in &#34;file:///path/to/file.xml&#34;
<h2 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-PickListDefinition">
  Pick List Definition
</h2>
An ordered list of entity codes and corresponding presentations drawn from a resolved value set definition.
<h3 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-PickListDefinitionlogicalmodel">
  Pick List Definition logical model
</h3>
Here is a UML representation of a Pick List Definition with in LexGrid 201001 model:
<img alt="UML representation of a Pick List" src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%206.0%20Design%20Document%20-%20Detailed%20Design%20-%20Value%20Set%20Definition/PickListDefinitionModel.jpg?api=v2">
<h3 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-PickListDefinitionlogicalmodeldescription">
  Pick List Definition logical model description
</h3>
<h4 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-PickListDefinition.1">
  Pick List Definition
</h4>
An ordered list of entity codes and corresponding presentations drawn from a resolved value set definition.

Attributes of Pick List Definition :
Source: The local identifiers of the source(s) of this pick list definition. Must match a local id of a supportedSource in the corresponding mappings section.
pickListId: An identifier that uniquely names this list within the context of the collection.
representsValueSetDefinition: The URI of the value set definition that is represented by this pick list
defaultEntityCodeNamespace: Local name of the namespace to which the entry codes in this list belong. defaultEntityCodeNamespace must match a local id of a supportedNamespace in the mappings section.
defaultLanguage: The local identifier of the language that is used to generate the text of this pick list if not otherwise specified. Note that this language does NOT necessarily have any coorelation with the language of a pickListEntry itself or the language of the target user. defaultLanguage must match a local id of a supportedLanguage in the mappings section.
defaultSortOrder: The local identifier of a sort order that is used as the default in the definition of the pick list
defaultPickContext: The local identifiers of the context used in the definition of the pick list.
completeSet: True means that this pick list should represent all of the entries in the resolved value set definition. Any active entity codes that aren&#39;t in the specific pick list entries are added to the end, using the designations identified by the defaultLanguage, defaultSortOrder and defaultPickContext. Default: false
<h4 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-PickListEntryNode">
  Pick List Entry Node
</h4>
An inclusion (pickListEntry) or exclusion (pickListEntryExclusion) in a pick list definition

Attributes of Pick List Entry Node :
pickListEntryId: Unique identifier of this node within the list.
<h4 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-PickListEntry">
  Pick List Entry
</h4>
An entity code and corresponding textual representation.

Attributes of Pick List Entry :
pickText: The text that represents this node in the pick list. Some business rules may require that this string match a presentation associated with the entityCode
pickContext: The local identifiers of the context(s) in which this entry applies. pickContext must match a local id of a supportedContext in the mappings section
entryOrder: Relative order of this entry in the list. pickListEntries without a supplied order follow the all entries with an order, and the order is not defined.
entityCode: Entity code associated with this entry.
entityCodeNamespace: Local identifier of the namespace of the entity code if different than the pickListDefinition defaultEntityCodeNamespace. entityCodeNamespace must match a local id of a supportedNamespace in the mappings section.
propertyId: The property identifier associated with the entityCode and entityCodeNamespace that the pickText was derived from. If absent, the pick text can be anything. Some terminologies may have business rules requiring this attribute to be present.
isDefault: True means that this is the default entry for the supplied language and context.
matchIfNoContext: True means that this entry can be used if no contexts are supplied, even though pickContext ispresent.
Language: The local name of the language to be used when the application/user supplies a selection language matches. If absent, this matches all languages. language must match a local id od of a supportedLanguage in the mappings section.
<h4 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-PickListEntryExclusion">
  Pick List Entry Exclusion
</h4>
An entity code that is explicitly excluded from a pick list.

Attributes of Pick List Entry Exclusion:
entityCode: Entity code associated with this entry.
entityCodeNamespace: Local identifier of the namespace of the entity code if different than the pickListDefinition defaultEntityCodeNamespace. entityCodeNamespace must match a local id of a supportedNamespace in the mappings section.
<h2 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-PossibleformsofPickListDefinitions">
  Possible forms of Pick List Definitions
</h2>
<ul>
  <li>
    Ability to include all the concept codes contained in the referenced value set resolution by setting completeSet flag to &#39;true&#39;
  </li>
  <li>
    Ability to include individual pickText derived from concept code designation of the referenced code system
  </li>
  <li>
    Ability to exclude concept codes from the pick list
  </li>
  <li>
    Ability to combine of any of the above
  </li>
</ul>
<h3 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-FictitiousexamplesofPickListDefinitions">
  Fictitious examples of Pick List Definitions
</h3>
<h4 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-Example1.1">
  Example 1
</h4>
<img alt="illustration of example one" src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%206.0%20Design%20Document%20-%20Detailed%20Design%20-%20Value%20Set%20Definition/PLDExample1.jpg?api=v2">
<h4 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-Example2.1">
  Example 2
</h4>
<img src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%206.0%20Design%20Document%20-%20Detailed%20Design%20-%20Value%20Set%20Definition/PLDExample2.jpg?api=v2">
<h3 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-PickListDefinitionVersions">
  Pick List Definition Versions
</h3>
Pick List Definitions are versioned. The version of Pick List Definition changes when ever the definition is changed, it could be changing, adding or removing pickListEntryNode.
<h2 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-PickListServices">
  Pick List Services
</h2>
LexEVS Pick List Services is an integral part of LexEVS Core API. It provides:
<ul>
  <li>
    Ability to load Pick List Definitions into LexGrid repository
  </li>
  <li>
    Ability to apply user restrictions and dynamically resolve the definitions during run time
  </li>
  <li>
    Ability to author Pick List Definition
  </li>
</ul>
<h3 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-MajorfunctionsprovidedbyPickListServices">
  Major functions provided by Pick List Services
</h3>
<ul>
  <li>
    Administration functions:
    <ul>
      <li>
        Ability to load Pick List Definitions into LexGrid repository.
      </li>
      <li>
        Ability to remove Pick List Definitions from LexGrid repository.
      </li>
      <li>
        Here are some of the admin methods available:
        <ul>
          <li>
            loadPickList(PickListDefinition pldef, String systemReleaseURI) - Loads supplied Pick List Definition object
          </li>
          <li>
            loadPickList(InputStream inputStream, boolean failOnAllErrors) - Loads Pick List Definitions found in inputStream
          </li>
          <li>
            loadPickList (String xmlFileLocation, boolean failOnAllErrors) - Loads Pick List Definitions found in input xml file
          </li>
          <li>
            removePickList(String pickListId) - Removes supplied Pick List Definition from the system
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>
<ul>
  <li>
    Query functions:
    <ul>
      <li>
        Ability to list all the Pick List Definitions loaded in the system.
      </li>
      <li>
        Ability to dynamically resolve Pick List Definition with/without user supplied restrictions.
      </li>
      <li>
        Ability to list all the Pick List Definitions that uses given Value Set Definition URI.
      </li>
      <li>
        Here are some of the query methods available:
        <ul>
          <li>
            getPickListDefinitionById(String pickListId) - Returns pickList definition for supplied pickListId
          </li>
          <li>
            getPickListDefinitionsForValueSetDefinition(URI valueSetDefinitionURI) - Returns all the pickList definitions that represents supplied value set definition URI
          </li>
          <li>
            getPickListValueSetDefinition(String pickListId) - Returns an URI of the represented value set definition of the pickList
          </li>
          <li>
            listPickListIds() - Returns a list of pickListIds that are available in the system
          </li>
          <li>
            resolvePickList(String pickListId, boolean sortByText) - Resolves pickList definition for supplied pickListId
          </li>
          <li>
            resolvePickListForTerm(String pickListId, String term, String matchAlgorithm, String language, String[] context, boolean sortByText) - Resolves pickList definition by applying supplied arguments
            <ul>
              <li>
                ResolvedPickListEntryList : Contains the list of resolved Pick List Entries. Also provides helpful features to add, remove, enumerate Pick List Entries.
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>
<ul>
  <li>
    Authoring functions:
    <ul>
      <li>
        pickListDefinition and pickListEntryNode classes are versionable entities in LexGrid model. Following authoring functions can be performed on them:
        <ul>
          <li>
            NEW : Create new Pick List Definition or add new pickListEntryNode to existing Pick List Definition.
          </li>
          <li>
            MODIFY : Modify existing attributes of Pick List Definition or pickListEntryNode.
          </li>
          <li>
            REMOVE : Ability to completely remove Pick List Definition or pickListEntryNode. This is not the same as deprecated, as the entity ceases to exist in future versions.
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>
Refer to Revision section of this document for information on how revisions can be applied and how LexEVS handles them.
<h2 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-CTS2specificPickListServices">
  CTS 2 specific Pick List Services
</h2>
There are NO functional specifications specific to Pick List in CTS 2 SFM.
<h3 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-LoadScripts.1">
  Load Scripts
</h3>
Scripts to load Pick List Definitions into LexEVS system will be located under &#39;Admin&#39; folder of LexEVS install directory. This loader scripts will only load data in XML file that is in LexGrid format.
<h3 id="LexEVS6.0DesignDocumentDetailedDesignValueSetDefinition-PickListLoader">
  Pick List Loader
</h3>
LoadPickList.bat for Windows environment and LoadPickList.sh for Unix environment.
Both these scripts takes in following parameters:
<table>
  <tbody>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Function
      </th>
    </tr>
    <tr>
      <td>
        -in
      </td>
      <td>
        Input &lt;uri&gt; URI or path specifying location of the source file.
      </td>
    </tr>
    <tr>
      <td>
        -v
      </td>
      <td>
        Validate &lt;int&gt; Perform validation of the candidate resource without loading data.
        Supported levels of validation includes :
        0 = Verify document is well-formed
        1 = Verify document is valid
      </td>
    </tr>
  </tbody>
</table>
Example:

sh LoadPickList.sh -in &#34;file:///path/to/file.xml&#34; 