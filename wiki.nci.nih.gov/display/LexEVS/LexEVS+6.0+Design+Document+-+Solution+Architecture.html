Contents of this Page
<ul>
  <li>
    <a href="#LexEVS6.0DesignDocumentSolutionArchitecture-SolutionArchitecture" rel="nofollow">
      Solution Architecture
    </a>
  </li>
  <li>
    <a href="#LexEVS6.0DesignDocumentSolutionArchitecture-RequiredCTS2Functionality" rel="nofollow">
      Required CTS 2 Functionality
    </a>
    <ul>
      <li>
        <a href="#LexEVS6.0DesignDocumentSolutionArchitecture-AdministrativeOperations" rel="nofollow">
          Administrative Operations
        </a>
      </li>
      <li>
        <a href="#LexEVS6.0DesignDocumentSolutionArchitecture-SearchandQueryOperations" rel="nofollow">
          Search and Query Operations
        </a>
      </li>
      <li>
        <a href="#LexEVS6.0DesignDocumentSolutionArchitecture-AuthoringandCurationOperations" rel="nofollow">
          Authoring and Curation Operations
        </a>
      </li>
    </ul>
  </li>
  <li>
    <a href="#LexEVS6.0DesignDocumentSolutionArchitecture-HighLevelArchitecture" rel="nofollow">
      High Level Architecture
    </a>
    <ul>
      <li>
        <a href="#LexEVS6.0DesignDocumentSolutionArchitecture-StructureoftheCTS2Service" rel="nofollow">
          Structure of the CTS 2 Service
        </a>
        <ul>
          <li>
            <a href="#LexEVS6.0DesignDocumentSolutionArchitecture-CTS2QueryProfile" rel="nofollow">
              CTS 2 Query Profile
            </a>
          </li>
          <li>
            <a href="#LexEVS6.0DesignDocumentSolutionArchitecture-TerminologyAdministrationProfile" rel="nofollow">
              Terminology Administration Profile
            </a>
          </li>
          <li>
            <a href="#LexEVS6.0DesignDocumentSolutionArchitecture-TerminologyAuthoringProfile" rel="nofollow">
              Terminology Authoring Profile
            </a>
          </li>
          <li>
            <a href="#LexEVS6.0DesignDocumentSolutionArchitecture-SemanticProfiles" rel="nofollow">
              Semantic Profiles
            </a>
          </li>
          <li>
            <a href="#LexEVS6.0DesignDocumentSolutionArchitecture-ConformanceProfiles" rel="nofollow">
              Conformance Profiles
            </a>
          </li>
          <li>
            <a href="#LexEVS6.0DesignDocumentSolutionArchitecture-Sub-CategorizationofCTS2Services" rel="nofollow">
              Sub-Categorization of CTS 2 Services
            </a>
          </li>
          <li>
            <a href="#LexEVS6.0DesignDocumentSolutionArchitecture-ServiceInterfacesforCTS2" rel="nofollow">
              Service Interfaces for CTS 2
            </a>
          </li>
        </ul>
      </li>
      <li>
        <a href="#LexEVS6.0DesignDocumentSolutionArchitecture-HighLevelDesignDiagram" rel="nofollow">
          High Level Design Diagram
        </a>
      </li>
    </ul>
  </li>
</ul>
Document Information
Author: Craig Stancl
Email: Stancl.craig@mayo.edu
Team: LexEVS
Contract: CBITT BOA Subcontract# 29XS223
Client: NCI CBIIT
National Institutes of Heath
US Department of Health and Human Services


Revision History
<table>
  <tbody>
    <tr>
      <th>
        Version
      </th>
      <th>
        Date
      </th>
      <th>
        Description of Changes
      </th>
      <th>
        Author
      </th>
    </tr>
    <tr>
      <td>
        1.0
      </td>
      <td>
        5/14/10
      </td>
      <td>
        Initial Version Approved via Design Review
      </td>
      <td>
        Team
      </td>
    </tr>
  </tbody>
</table>
<h2 id="LexEVS6.0DesignDocumentSolutionArchitecture-SolutionArchitecture">
  Solution Architecture
</h2>
Proposed technical solution to satisfy the following requirements:
<ul>
  <li>
    Provide support for Value Sets.
  </li>
  <li>
    Develop within LexEVS the ability to provide local extensions to code sets and maps among code sets.
  </li>
  <li>
    Develop within LexEVS other capabilities called for in the CTS2 Specification.
  </li>
</ul>
<h2 id="LexEVS6.0DesignDocumentSolutionArchitecture-RequiredCTS2Functionality">
  Required CTS 2 Functionality
</h2>
The required LexEVS functionality to support CTS2 addresses several broad categories.
<h3 id="LexEVS6.0DesignDocumentSolutionArchitecture-AdministrativeOperations">
  Administrative Operations
</h3>
Import Operations The CTS2 SFM calls for the ability to import code systems, code system revisions, value set versions and association versions. The current LexEVS model does not differentiate between the importation of a complete code system and an incremental update in the form of a code system revision, but the functionality is sufficient to fully meet the requirements of both operations. Note, however, that the incremental update functionality of LexEVS has not been fully implemented as of version 5.1, and will be completed in order to meet these requirements. The import of association versions will be also be absorbed as part of the code system revision functionality. The current LexEVS implementation already supports the import of value domain definitions, although incremental updates have not been implemented and will be provided.

Export Operations The CTS2 SFM calls for the ability to export code systems, associations and value sets. The current LexEVS implementation supports the ability to export complete code systems in LexGrid XML and OBO formats. At the moment, it does not support the ability to export value domain definitions or pick lists which will be provided. The CTS2 SFM also calls for the ability to provide filter criteria in the exports although the use and functions of such filters are not totally clear.

While the SFM does not spell a minimal set of export requirements, we believe that it will be necessary to support LexGrid XML and RDF / OWL. We also believe that there are use cases that will require the ability to export a set of changes as a &#34;delta&#34; from a previous version - a set of changes that can be applied to another image that will supply the appropriate update.

Code System Status Changes The current LexEVS implementation already supports a superset of this functionality.

Notification While the need to support notification has been anticipated in the current LexGrid architecture, it has not been completely modeled or implemented. Analysis, however, has identified a set of requirements that extend beyond the basic ones identified in the CTS 2 SFM. As an example, a use case was identified where an administrator needed to be notified when the contents of a concept that was referenced by a value set changed.

Architectures and corresponding implementations for notification and event generation already exist. While it will be necessary to tie these events in to the LexEVS implementation, we do not plan to implement any of the notification tooling directly but, instead will implement it in such a way that it can be tied into a standards compliant event and messaging architecture.
<h3 id="LexEVS6.0DesignDocumentSolutionArchitecture-SearchandQueryOperations">
  Search and Query Operations
</h3>
Code Systems LexEVS already implements a superset of the code system search and access requirements with the exception that search criteria and the &#34;query control&#34; aspects are combined as a single operation.

Value Sets The CTS2 SFM calls for the ability to list value sets, return value set details and list value set contents. It also calls for a determination of value set subsumption and queries about concept membership. The current LexEVS implementation supports all of these functions with the exception of value set subsumption. It should be noted, however, that there are two possible interpretations of &#34;subsumption&#34; - an extensional and intensional subsumption. Testing extensional subsumption determines whether one value set subsumes another based on their current resolutions. Testing extensional subsumption, however, is more difficult, as it involves the determination whether subsumption is necessary. We intend to postpone subsumption pending further clarification of the use case.

Concept Domains and Usage Contexts The HL7 notion of &#34;Concept Domain&#34; was originally architected to align with the ISO 11179 Enumerated Conceptual Domain. It has since evolved, however, to be a more abstract entity that, if anything, is closer to the ISO 11179 Data Element Concept. The CTS SFM shows the role of Concept Domain as coupling a value set with a set of designations. While LexEVS supports this particular functionality through pick list implementation, we are not certain that this model will meet all of HL7&#39;s needs, as HL7 Edition 3 views concept domains as controlling the coupling of data elements with particular enumerated conceptual domains. We intend to model concept domain, usage context and jurisdictional domain as code system entities instead of making them first class model elements. The concept domain binding and concept to concept domain functionality is partially implemented in the LexEVS pick list model, but additional modeling and development will be done to provide the full functionality required by the SFM.

Association Related Queries The CTS2 SFM calls for the ability to enumerate associations, compute the transitive path between two concept codes, determine whether one coded attribute is subsumed by another and return the details of an association. Some of the requirements are a bit unclear on whether they are calling for the ability to query association types or the actual set of associations (relation) coupled with the type. LexEVS provides a rich set of functionality to perform the latter and provides all of what we believe to be necessary to support the former.

Full subsumption queries imply the use of a reasoner. We see this as a non-trivial task, as the different terminologies are based on different types of description logics and, even within the same family of description logic there are different algorithms that can produce different results based on completeness requirements. The LexEVS package does not currently support (a) reasoners and (b) the ability to supply a pre-coordinated expression as either the input or output of a function. We will postpone the implementation of compositional expression pending the clarification of whether LexEVS can or should support formal reasoning.
<h3 id="LexEVS6.0DesignDocumentSolutionArchitecture-AuthoringandCurationOperations">
  Authoring and Curation Operations
</h3>
&#34;Authoring&#34; and &#34;incremental update&#34; are closely related notions, but there is an important distinction between them. Incremental update, as specified in the current version of the LexEVS model, assumes that any set of changes will transform the underlying entity (code system, value domain, pick list) from one consistent state to another. Authoring, however, requires an additional ability to save entities in states that are neither valid nor complete. The current LexGrid architecture and model is based on the premise that the information being provided is valid and consistent and is not designed to support partially formed artifacts such as concepts without associated codes, associations that have a source but no target, etc.

It is assumed that there is an external authoring tool that persists partially formed content and performs the necessary validation and reasoning tasks prior to their being incrementally loaded into the LexEVS services. We see this as being a necessary separation, as the potential combination of editors, reasoners, terminology models, etc. is almost limitless, and each of these will have its own requirements when it comes to completeness and validity.

Code System Authoring and Curation The CTS2 SFM calls for the ability to create, maintain and update code systems, concepts, and associations as separate entities. The LexGrid and LexEVS model views all three of them as aspects of code systems, and its incremental revision approach allows any or all of them to be changed as a single unit. The LexEVS model also subsumes the notion of a &#34;code system supplement&#34;, as a collection of one or more revisions to a code system can be packaged as a &#34;system release&#34;, with its own provenance, activation dates, etc., and can be applied to external code systems independently.
<h2 id="LexEVS6.0DesignDocumentSolutionArchitecture-HighLevelArchitecture">
  High Level Architecture
</h2>
<h3 id="LexEVS6.0DesignDocumentSolutionArchitecture-StructureoftheCTS2Service">
  Structure of the CTS 2 Service
</h3>
The CTS 2 specification defines several functional profiles which are a focused subset of the functionality of a CTS 2 implementation. Functional profiles are defined to subset a group of operations which must be supported in order to claim conformance to the profile.

The following functional profiles are considered in scope for LexEVS 6.0:

CTS 2 Query Profile
<ul>
  <li>
    Searching and querying terminologies
  </li>
  <li>
    Provide access to terminology content and representational structures (description logic) consistent with the terminology author&#39;s intent.
  </li>
</ul>
Terminology Administration Profile
<ul>
  <li>
    Restricting administrative access
  </li>
  <li>
    Obtaining and loading terminologies
  </li>
  <li>
    Maintaining terminology access
  </li>
  <li>
    Control Content Access
  </li>
</ul>
Terminology Authoring Profile
<ul>
  <li>
    Functional terminology analysis/query
  </li>
  <li>
    Direct terminology edits
  </li>
</ul>
Each profile specifies the minimal functional coverage as represented in the following tables.
<h4 id="LexEVS6.0DesignDocumentSolutionArchitecture-CTS2QueryProfile">
  CTS 2 Query Profile
</h4>
<table>
  <tbody>
    <tr>
      <th>
        Function
      </th>
      <th>
        Description
      </th>
    </tr>
    <tr>
      <td>
        List Code Systems
      </td>
      <td>
        The ability to provide a listing of the available code
        systems that meet input search criteria.
      </td>
    </tr>
    <tr>
      <td>
        Return Code System Details
      </td>
      <td>
        The ability to retrieve a specific code system attributes
        (synonyms, associations) and other metadata.
      </td>
    </tr>
    <tr>
      <td>
        List Code System Concepts
      </td>
      <td>
        The ability to retrieve a list of all of the concepts,
        with associated attributes (synonyms, associations) and other metadata that
        meet input criteria.
      </td>
    </tr>
    <tr>
      <td>
        Return Concept Details
      </td>
      <td>
        The ability to retrieve a specific concept, with
        associated attributes (synonyms, associations) and other metadata.
      </td>
    </tr>
    <tr>
      <td>
        List Value Sets
      </td>
      <td>
        The ability to determine what value sets are available to
        a Terminology Service. This includes seeing a listing of the available value
        sets that match some search criteria, as well as the details pertaining to
        each value set available to the terminology service.
      </td>
    </tr>
    <tr>
      <td>
        Return Value Set Details
      </td>
      <td>
        The ability to retrieve a specific value set, with
        associated attributes and other metadata.
      </td>
    </tr>
    <tr>
      <td>
        List Value Set Contents
      </td>
      <td>
        The ability to see a listing of specific concepts, as well
        as the details pertaining to each concept in any of the given value sets
        available to a terminology service.
      </td>
    </tr>
    <tr>
      <td>
        Check Concept Value Set Membership
      </td>
      <td>
        The ability to validate that a given concept exists in a
        given value set.
      </td>
    </tr>
    <tr>
      <td>
        List Concept Domains
      </td>
      <td>
        The ability to determine what concept domains are
        available to a Terminology Service.
      </td>
    </tr>
    <tr>
      <td>
        Return Concept Domain Details
      </td>
      <td>
        The ability to retrieve a specific concept domain, with
        associated attributes and other metadata.
      </td>
    </tr>
    <tr>
      <td>
        List Concept Domain Bindings
      </td>
      <td>
        The ability to see a listing of specific value sets that
        are bound to a concept domain in specified usage contexts.
      </td>
    </tr>
    <tr>
      <td>
        Check Concept Domain Membership
      </td>
      <td>
        The ability to validate that a given concept code is bound
        to a given concept domain.
      </td>
    </tr>
    <tr>
      <td>
        List Usage Contexts
      </td>
      <td>
        The ability to determine what usage contexts are available
        to a Terminology Service.
      </td>
    </tr>
    <tr>
      <td>
        Return Usage Context Details
      </td>
      <td>
        The ability to retrieve a specific usage context, with
        associated attributes and other metadata.
      </td>
    </tr>
    <tr>
      <td>
        List Associations
      </td>
      <td>
        The ability to determine what associations are available
        on the terminology service by browsing a list of available associations on
        the CTS 2 instance that meet specified search criteria.
      </td>
    </tr>
    <tr>
      <td>
        Return Association Details
      </td>
      <td>
        The ability to retrieve metadata on available associations
        in the CTS 2 service instance.
      </td>
    </tr>
    <tr>
      <td>
        List Association Types
      </td>
      <td>
        Returns the details for the known attributes (metadata) of
        a coded concept
      </td>
    </tr>
    <tr>
      <td>
        Return Association Type Details
      </td>
      <td>
        The ability to return all information for a Association
        type.
      </td>
    </tr>
    <tr>
      <td>
        Check Value Set Subsumption
      </td>
      <td>
        Determine whether one of the two supplied value sets
        subsumes the other
      </td>
    </tr>
    <tr>
      <td>
        Check Concept to Concept Domain Association
      </td>
      <td>
        Determine whether the supplied coded concept exists in a
        code system in use for the specified concept domain, optionally within
        specific usage contexts.
      </td>
    </tr>
    <tr>
      <td>
        Determine Transitive Concept Relationship
      </td>
      <td>
        Determine whether there exists aÂ transitive relationship between two
        concepts
      </td>
    </tr>
    <tr>
      <td>
        Compute Subsumption Relationship
      </td>
      <td>
        Determine Whether One Concept Subsumes a Second
      </td>
    </tr>
  </tbody>
</table>
<h4 id="LexEVS6.0DesignDocumentSolutionArchitecture-TerminologyAdministrationProfile">
  Terminology Administration Profile
</h4>
<table>
  <tbody>
    <tr>
      <th>
        Function
      </th>
      <th>
        Description
      </th>
    </tr>
    <tr>
      <td>
        Import Code System
      </td>
      <td>
        Terminology content would be loaded into the terminology
        server as an entire terminology load or skeleton load (i.e. load of structure
        without loading the nodes).
      </td>
    </tr>
    <tr>
      <td>
        Import Code System Revision
      </td>
      <td>
        Terminology content would be loaded into the terminology
        server as a delta or set of changes from the previous version of the
        terminology.
      </td>
    </tr>
    <tr>
      <td>
        Import Value Set Version
      </td>
      <td>
        Ability to import values sets
      </td>
    </tr>
    <tr>
      <td>
        Import Association version
      </td>
      <td>
        Ability to import Associations
      </td>
    </tr>
    <tr>
      <td>
        Export Association
      </td>
      <td>
        Ability to export Association Type instances
      </td>
    </tr>
    <tr>
      <td>
        Export Code System Content
      </td>
      <td>
        Terminology content would be exported either in whole or
        in part based on filtering against terminology properties. The export format
        may also be specified.
      </td>
    </tr>
    <tr>
      <td>
        Change Code System Status
      </td>
      <td>
        Terminology content status would be changed, thus changing
        its availability for access by other terminology service functions.
      </td>
    </tr>
    <tr>
      <td>
        Register for Notification
      </td>
      <td>
        A client registers for notification so that an electronic
        notification would be sent to subscribed users in the event of a change to
        the specified terminology element.
      </td>
    </tr>
    <tr>
      <td>
        Update Notification Registration
      </td>
      <td>
        Subscription notification information can be updated for a
        subscriber&#39;s notification account.
      </td>
    </tr>
    <tr>
      <td>
        Update Notification Registration Status
      </td>
      <td>
        Updates the status of a notification registration.
      </td>
    </tr>
  </tbody>
</table>
<h4 id="LexEVS6.0DesignDocumentSolutionArchitecture-TerminologyAuthoringProfile">
  Terminology Authoring Profile
</h4>
<table>
  <tbody>
    <tr>
      <th>
        Function
      </th>
      <th>
        Description
      </th>
    </tr>
    <tr>
      <td>
        Create Code System
      </td>
      <td>
        The ability to create a new Code System to contain a set
        of new coded concepts. The Code System is created by defining the set of
        meta-data properties that describe it.
      </td>
    </tr>
    <tr>
      <td>
        Maintain Code System Version
      </td>
      <td>
        The ability to maintain the content and metadata of a
        version for a code system.
      </td>
    </tr>
    <tr>
      <td>
        Update Code System Version Status
      </td>
      <td>
        The ability to modify the status of a code system.
      </td>
    </tr>
    <tr>
      <td>
        Create Concept
      </td>
      <td>
        The ability to define and add a new concept to a code
        system.
      </td>
    </tr>
    <tr>
      <td>
        Maintain Concept
      </td>
      <td>
        The ability to modify a concept that exists in a code
        system.
      </td>
    </tr>
    <tr>
      <td>
        Update Concept Status
      </td>
      <td>
        The ability to modify the status of a concept that exists
        in a code system.
      </td>
    </tr>
    <tr>
      <td>
        Create Value Set
      </td>
      <td>
        The ability to create a dynamic value set that is defined
        by a computable expression that can be resolved to an exact list of coded
        concepts at any given point in time.
      </td>
    </tr>
    <tr>
      <td>
        Maintain Value Set
      </td>
      <td>
        Update properties or expression of a value set definition
        (extensional and intensional value sets).
      </td>
    </tr>
    <tr>
      <td>
        Update Value Set Status
      </td>
      <td>
        The ability to modify the status of a value set.
      </td>
    </tr>
    <tr>
      <td>
        Create Concept Domain
      </td>
      <td>
        The ability to define and add a new concept domain.
      </td>
    </tr>
    <tr>
      <td>
        Maintain Concept Domain
      </td>
      <td>
        The ability to modify a concept domain, including bindings
        to value sets within usage contexts.
      </td>
    </tr>
    <tr>
      <td>
        Create Usage Context
      </td>
      <td>
        The ability to define and add a new usage context.
      </td>
    </tr>
    <tr>
      <td>
        Maintain Usage Context
      </td>
      <td>
        The ability to modify a usage context.
      </td>
    </tr>
    <tr>
      <td>
        Terminology Administration Profile
      </td>
      <td>
        The Terminology Administration profile is intended to
        provide the functional operations necessary for terminology administrators to
        be able to access and make available terminology content obtained from a Terminology Provider.
      </td>
    </tr>
    <tr>
      <td>
        Create Association
      </td>
      <td>
        The ability to create an association between concepts.
      </td>
    </tr>
    <tr>
      <td>
        Update Association Status
      </td>
      <td>
        The ability to update the status of an association between
        concepts.
      </td>
    </tr>
    <tr>
      <td>
        Create Association Type
      </td>
      <td>
        The ability to create a new Association type that may be
        used to link two concepts.
      </td>
    </tr>
    <tr>
      <td>
        Maintain Association Type
      </td>
      <td>
        The ability to modify or deprecate an existing Association
        type that may be used to link two concepts.
      </td>
    </tr>
    <tr>
      <td>
        Create Lexical Association Between Coded Concepts
        (optional for this profile)
      </td>
      <td>
        The ability to instantiate an association between two sets
        of coded concepts using a set of lexical rules (matching algorithms) to
        generate the associations .
      </td>
    </tr>
    <tr>
      <td>
        Create Rules Based Association Between Coded Concepts
        (optional for this profile)
      </td>
      <td>
        The ability to instantiate an association between two sets
        of coded concepts using a set of description logic or inference rules that either assert or infer mappings between two Code Systems.
      </td>
    </tr>
    <tr>
      <td>
        Create Code System Supplement
      </td>
      <td>
        Create a new Code System Supplement as a container of a
        set of concepts and concept properties to be appended to a target code system
      </td>
    </tr>
    <tr>
      <td>
        Maintain Code System Supplement
      </td>
      <td>
        Update Code System Supplement meta-data properties and add
        concepts and properties to code system
      </td>
    </tr>
  </tbody>
</table>
CTS2 Architecture Diagram
<img alt="CTS2 Architecture Diagram" src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%206.0%20Design%20Document%20-%20Solution%20Architecture/CTS2_Arch_Diagram.png?api=v2">
<h4 id="LexEVS6.0DesignDocumentSolutionArchitecture-SemanticProfiles">
  Semantic Profiles
</h4>
Semantic profiles identify a named set of metamodels that are to be supported by the operations specified in the functional profiles.

The following semantic profile is considered in scope for LexEVS 6.0:

Mature Terminology Profile
<ul>
  <li>
    Best practices conformance for the terminology
  </li>
  <li>
    Terminologies in the Mature Terminology Profile make an attempt to conform to many of terminology best practices that are, for example, outlined in Desiderata for Controlled Medical Vocabularies in the Twenty-First Century, James J. Cimino.
  </li>
  <li>
    Sample Terminologies include: SNOMED CT, ICD 10 CM, LOINC, RxNorm, NDF / NDF-RT
  </li>
</ul>
This profile best fits the existing NCI terminologies.
<h4 id="LexEVS6.0DesignDocumentSolutionArchitecture-ConformanceProfiles">
  Conformance Profiles
</h4>
Conformance profiles are intended to focus specific implementations to address a specific class of functionality and minimum trait sets for each functional class. LexEVS 6.0 intends to implement to the following conformance:
<table>
  <tbody>
    <tr>
      <th>
        Profile
      </th>
      <th>
        Mature Terminology Semantic Profile
      </th>
    </tr>
    <tr>
      <td>
        CTS 2 Query Functional Profile
      </td>
      <td>
        CTS2 Query - Mature Terminology Conformance Profile
      </td>
    </tr>
    <tr>
      <td>
        Terminology Administration Functional Profile
      </td>
      <td>
        Terminology Administration - Mature Terminology Conformance Profile
      </td>
    </tr>
    <tr>
      <td>
        Terminology Authoring Functional Profile
      </td>
      <td>
        Terminology Authoring - Mature Terminology Conformance Profile
      </td>
    </tr>
  </tbody>
</table>
<h4 id="LexEVS6.0DesignDocumentSolutionArchitecture-Sub-CategorizationofCTS2Services">
  Sub-Categorization of CTS 2 Services
</h4>
CTS 2 Services can be further categorized from the above profile details.

CTS Services Diagram
<img src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%206.0%20Design%20Document%20-%20Solution%20Architecture/CTS_Services.png?api=v2">
<h4 id="LexEVS6.0DesignDocumentSolutionArchitecture-ServiceInterfacesforCTS2">
  Service Interfaces for CTS 2
</h4>
Interfaces to be considered for CTS 2 Services
<img alt="CTS2 Service Interfaces Diagram" height="789" width="711" src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%206.0%20Design%20Document%20-%20Solution%20Architecture/CTS2_Services2LexEVS.png?api=v2">
<h3 id="LexEVS6.0DesignDocumentSolutionArchitecture-HighLevelDesignDiagram">
  High Level Design Diagram
</h3>
The LexEVS 6.0 infrastructure exhibits an n-tiered architecture with client interfaces, server components, domain objects, data sources, and back-end systems (architecture diagram). This n-tiered system divides tasks or requests among different servers and data stores. This isolates the client from the details of where and how data is retrieved from different data stores.

The system also performs common tasks such as logging and provides a level of security for protected content. Clients (browsers, applications) receive information through designated application programming interfaces (APIs). Java applications communicate with back-end objects via domain objects packaged within the client.jar. Non-Java applications can communicate via SOAP (Simple Object Access Protocol) or REST (Representational State Transfer) services.

Most of the LexEVS API infrastructure is written in the Java programming language and leverages reusable, third-party components. The service infrastructure is composed of the following layers:

Application Service Layer - accepts incoming requests from all public interfaces and translates them, as required, to Java calls in terms of the native LexEVS API. Non-SDK queries are invoked against the Distributed LexEVS API, which handles client authentication and acts as proxy to invoke the equivalent function against the LexEVS core Java API. The caGrid and SDK-generated services are optionally run in an application server separate from the Distributed LexEVS API.

The LexEVS caCORE SDK services work directly against the database, via Hibernate bindings, to resolve stored objects without intermediate translation of calls in terms of the LexEVS API. However, the LexEVS SDK services do still require access to metadata and security information stored by the Distributed and Core LexEVS API environment to resolve the specific database location for requested objects and to verify access to protected resources, respectively.

From the client prospective, the LexEVS services will function as &#34;ports&#34; accessible through the caGrid 1.3 service architectural model. LexEVS services will follow the caGrid architecture for analytical and data services. See the caGrid 1.3 documentation for architectural details:
<a href="https://cabig.nci.nih.gov/workspaces/Architecture/caGrid/" rel="nofollow">
  https://cabig.nci.nih.gov/workspaces/Architecture/caGrid/
</a>
Core API Layer - underpins all LexEVS API requests. Search of pre-populated Lucene index files is used to evaluate query results before incurring cost of database access. Access to the LexGrid database is performed as required to populate returned objects using pooled connections.

Data Source Layer - is responsible for storage and access to all data required to represent the objects returned through API invocation.

High Level Design Diagram
<img alt="High Level Design Diagram" height="772" width="987" src="https://wiki.nci.nih.gov/download/attachments/embedded-page/LexEVS/LexEVS%206.0%20Design%20Document%20-%20Solution%20Architecture/High_Level_Design_diagram.png?api=v2">