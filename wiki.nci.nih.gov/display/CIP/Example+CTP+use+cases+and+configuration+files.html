<h1 id="ExampleCTPusecasesandconfigurationfiles-Exampleusecasesandconfigurationfiles">
  Example use cases and configuration files
</h1>
The goal of this section is to provide the necessary configuration file, de-identification scripts, and filters that a user would need for common use cases.
<h2 id="ExampleCTPusecasesandconfigurationfiles-De-identificationscripts">
  De-identification scripts
</h2>
The first decision you must make is how aggressively to de-identify your images.  Supplement 142 has recently been approved by the DICOM Standards Committee as the standard for safely de-identifying DICOM image data while providing flexibility for scenarios which necessitate preservation of certain information needed for quality control and analysis.  This is achieved by providing a number of Application Level Confidentiality Profiles which includes a Basic Profile along with a number of Option Profiles. These profiles provide the necessary instructions for how to safely clean DICOM elements which may contain PHI.

Since the early draft stages of Supplement 142&#39;s development there has been an
<a href="https://wiki.nci.nih.gov/display/CIP/Incorporation+of+DICOM+WG18+Supplement+142+into+CTP" rel="nofollow">
  effort to integrate its guidance into CTP
</a>
.  Below you will find a list of common de-identification scripts based on Supplement 142 which are ready to use in CTP.  The full document as generated by DICOM Working Group 18 can be obtained here: ftp://medical.nema.org/medical/dicom/Final/sup142_ft.pdf
<ol>
  <li>
    Basic Application Confidentiality Profile - INSERT SCRIPT LINK - This is the most aggressive de-identification settings from S142 and is intended to remove any potential PHI from DICOM headers.
  </li>
  <li>
    Basic Profile + Retain Longitudinal Temporal Information with Modified Dates - INSERT SCRIPT LINK - Implements everything that is in the Basic Profile, except instead of removing the date related elements completely they are modified by some user selected number of days to provide protection against identifying patients, yet retaining the relative time between image studies to allow for research that requires this longitudinal information.
  </li>
</ol>
<h2 id="ExampleCTPusecasesandconfigurationfiles-UsingCTPforlocalde-identification">
  Using CTP for local de-identification
</h2>
<ul>
  <li>
    running the jar file
  </li>
  <li>
    sending your source data to CTP
    <ul>
      <li>
        Archive Import
      </li>
      <li>
        File Sender
      </li>
      <li>
        PACS
      </li>
    </ul>
  </li>
  <li>
    going to the browser
  </li>
  <li>
    viewing status page
  </li>
  <li>
    troubleshooting
    <ul>
      <li>
        quarantines
      </li>
      <li>
        log files
      </li>
    </ul>
  </li>
</ul>
Sample config.xml: LocalDeId-config.xml
<h2 id="ExampleCTPusecasesandconfigurationfiles-UsingCTPtosubmittoNBIA">
  Using CTP to submit to NBIA
</h2>
There are two common ways which you may wish to configure CTP to send data to NBIA.
<ol>
  <li>
    De-identification with local QC review  - This is useful if the submitter wishes to do their own review of the de-identified data prior to providing it to the NBIA host.  The NBIA host can subsequently choose to perform additional quality control reviews when the data reaches their server.
  </li>
  <li>
    De-identification with central NBIA QC review - This is useful if the group performing the submission is the same as the people managing the NBIA server.  In this scenario the users can leverage NBIA&#39;s built in quality control tools to review the data before making it &#34;visible&#34; to end users of the NBIA site.
  </li>
</ol>
Sample configurations for both scenarios are described below, along with pointers to which information will need to be filled in based on your particular use case.
<h3 id="ExampleCTPusecasesandconfigurationfiles-De-identificationwithlocalQCreview">
  De-identification with local QC review
</h3>
Sample config.xml: LocalDeId-NBIA-config.xml




Customizations required for use:
<h3 id="ExampleCTPusecasesandconfigurationfiles-De-identificationwithcentralNBIAQCreview">
  De-identification with central NBIA QC review
</h3>
Sample config.xml: LocalDeId-Automated-NBIA-config.xml
<ul>
  <li>
    <ul>
      <li>
        follow CTP installation steps above
      </li>
      <li>
        utilize/tweak NBIA centric config.xml (provide link)
      </li>
    </ul>
  </li>
  <li>
    Submitting to NBIA after local de-identification
    <ul>
      <li>
        editing your existing config.xml to add an NBIA export service
      </li>
      <li>
        sending your de-identified data to the export service
      </li>
    </ul>
  </li>
</ul>
<h2 id="ExampleCTPusecasesandconfigurationfiles-UsingCTPtosubmittoXNAT">
  Using CTP to submit to XNAT
</h2>
Sample config.xml: (still needs to be written)
<ul>
  <li>
    Submitting directly to XNAT
    <ul>
      <li>
        follow CTP installation steps above
      </li>
      <li>
        utilize/tweak XNAT centric config.xml (provide link)
      </li>
    </ul>
  </li>
  <li>
    Submitting to XNAT after local de-identification
    <ul>
      <li>
        editing your existing config.xml to add an XNAT export service
      </li>
      <li>
        sending your de-identified data to the export service
      </li>
    </ul>
  </li>
</ul>