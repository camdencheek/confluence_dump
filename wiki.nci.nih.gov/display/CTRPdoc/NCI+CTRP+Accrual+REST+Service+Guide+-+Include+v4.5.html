<h1 id="NCICTRPAccrualRESTServiceGuideIncludev4.5-top"></h1>
Topic Links
<ul>
  <li>
    <a href="#NCICTRPAccrualRESTServiceGuideIncludev4.5-Introduction" rel="nofollow">
      Introduction
    </a>
  </li>
  <li>
    <a href="#NCICTRPAccrualRESTServiceGuideIncludev4.5-ServiceEndpoints" rel="nofollow">
      Service Endpoints
    </a>
  </li>
  <li>
    <a href="#NCICTRPAccrualRESTServiceGuideIncludev4.5-AccessRequirements" rel="nofollow">
      Access Requirements
    </a>
  </li>
  <li>
    <a href="#NCICTRPAccrualRESTServiceGuideIncludev4.5-APISpecification" rel="nofollow">
      API Specification
    </a>
    <ul>
      <li>
        <a href="#NCICTRPAccrualRESTServiceGuideIncludev4.5-XMLSchema" rel="nofollow">
          XML Schema
        </a>
      </li>
      <li>
        <a href="#NCICTRPAccrualRESTServiceGuideIncludev4.5-Add/UpdateAccruals-Subject&amp;PartialSubject" rel="nofollow">
          Add/Update Accruals - Subject &amp; Partial Subject
        </a>
        <ul>
          <li>
            <a href="#NCICTRPAccrualRESTServiceGuideIncludev4.5-Description" rel="nofollow">
              Description
            </a>
          </li>
          <li>
            <a href="#NCICTRPAccrualRESTServiceGuideIncludev4.5-HTTPMethod" rel="nofollow">
              HTTP Method
            </a>
          </li>
          <li>
            <a href="#NCICTRPAccrualRESTServiceGuideIncludev4.5-URL" rel="nofollow">
              URL
            </a>
          </li>
          <li>
            <a href="#NCICTRPAccrualRESTServiceGuideIncludev4.5-RequestBody" rel="nofollow">
              Request Body
            </a>
          </li>
          <li>
            <a href="#NCICTRPAccrualRESTServiceGuideIncludev4.5-ResponseBody" rel="nofollow">
              Response Body
            </a>
          </li>
          <li>
            <a href="#NCICTRPAccrualRESTServiceGuideIncludev4.5-HTTPResponseCodes" rel="nofollow">
              HTTP Response Codes
            </a>
          </li>
        </ul>
      </li>
      <li>
        <a href="#NCICTRPAccrualRESTServiceGuideIncludev4.5-UpdateAccruals-Summary" rel="nofollow">
          Update Accruals - Summary
        </a>
        <ul>
          <li>
            <a href="#NCICTRPAccrualRESTServiceGuideIncludev4.5-Description.1" rel="nofollow">
              Description
            </a>
          </li>
          <li>
            <a href="#NCICTRPAccrualRESTServiceGuideIncludev4.5-HTTPMethod.1" rel="nofollow">
              HTTP Method
            </a>
          </li>
          <li>
            <a href="#NCICTRPAccrualRESTServiceGuideIncludev4.5-URL.1" rel="nofollow">
              URL
            </a>
          </li>
          <li>
            <a href="#NCICTRPAccrualRESTServiceGuideIncludev4.5-RequestBody.1" rel="nofollow">
              Request Body
            </a>
          </li>
          <li>
            <a href="#NCICTRPAccrualRESTServiceGuideIncludev4.5-ResponseBody.1" rel="nofollow">
              Response Body
            </a>
          </li>
          <li>
            <a href="#NCICTRPAccrualRESTServiceGuideIncludev4.5-HTTPResponseCodes.1" rel="nofollow">
              HTTP Response Codes
            </a>
          </li>
        </ul>
      </li>
      <li>
        <a href="#NCICTRPAccrualRESTServiceGuideIncludev4.5-DeleteStudySubject" rel="nofollow">
          Delete Study Subject
        </a>
        <ul>
          <li>
            <a href="#NCICTRPAccrualRESTServiceGuideIncludev4.5-Description.2" rel="nofollow">
              Description
            </a>
          </li>
          <li>
            <a href="#NCICTRPAccrualRESTServiceGuideIncludev4.5-HTTPMethod.2" rel="nofollow">
              HTTP Method
            </a>
          </li>
          <li>
            <a href="#NCICTRPAccrualRESTServiceGuideIncludev4.5-URL.2" rel="nofollow">
              URL
            </a>
          </li>
          <li>
            <a href="#NCICTRPAccrualRESTServiceGuideIncludev4.5-RequestBody.2" rel="nofollow">
              Request Body
            </a>
          </li>
          <li>
            <a href="#NCICTRPAccrualRESTServiceGuideIncludev4.5-ResponseBody.2" rel="nofollow">
              Response Body
            </a>
          </li>
          <li>
            <a href="#NCICTRPAccrualRESTServiceGuideIncludev4.5-HTTPResponseCodes.2" rel="nofollow">
              HTTP Response Codes
            </a>
          </li>
        </ul>
      </li>
      <li>
        <a href="#NCICTRPAccrualRESTServiceGuideIncludev4.5-ReportCDUSBatchFileforAsynchronousProcessing" rel="nofollow">
          Report CDUS Batch File for Asynchronous Processing
        </a>
        <ul>
          <li>
            <a href="#NCICTRPAccrualRESTServiceGuideIncludev4.5-Description.3" rel="nofollow">
              Description
            </a>
          </li>
          <li>
            <a href="#NCICTRPAccrualRESTServiceGuideIncludev4.5-HTTPMethod.3" rel="nofollow">
              HTTP Method
            </a>
          </li>
          <li>
            <a href="#NCICTRPAccrualRESTServiceGuideIncludev4.5-URL.3" rel="nofollow">
              URL
            </a>
          </li>
          <li>
            <a href="#NCICTRPAccrualRESTServiceGuideIncludev4.5-RequestBody.3" rel="nofollow">
              Request Body
            </a>
          </li>
          <li>
            <a href="#NCICTRPAccrualRESTServiceGuideIncludev4.5-ResponseBody.3" rel="nofollow">
              Response Body
            </a>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>
This section provides instructions for managing subject accruals via the NCI CTRP Accrual REST Service.
<h2 id="NCICTRPAccrualRESTServiceGuideIncludev4.5-Introduction">
  Introduction
</h2>
The Accrual REST Service is a CTRP Web Service that provides the following operations in a REST-like fashion:
<ul>
  <li>
    Add or update study subject accrual information on a given participating site
  </li>
  <li>
    Delete specific study subject accrual information from a given participating site
  </li>
  <li>
    Report accrual count for a participating site in an Abbreviated study
  </li>
</ul>
The service uses XML for data exchange.
<h2 id="NCICTRPAccrualRESTServiceGuideIncludev4.5-ServiceEndpoints">
  Service Endpoints
</h2>
Inside the NIH Firewall (VPN required)
<ul>
  <li>
    DEVINT: https://trials-int.nci.nih.gov/accrual-services
  </li>
</ul>
Outside of the NIH Firewall
<ul>
  <li>
    STAGE: https://trials-stage.nci.nih.gov/accrual-services
  </li>
  <li>
    PROD: https://trials.nci.nih.gov/accrual-services
  </li>
</ul>
<h2 id="NCICTRPAccrualRESTServiceGuideIncludev4.5-AccessRequirements">
  Access Requirements
</h2>
To use the service, you must have a valid NCI LDAP account and a CTRP account. For instructions, refer to
<a href="https://wiki.nci.nih.gov/pages/viewpage.action?pageId=149619594" rel="nofollow">
  Creating New NCI CTRP User Accounts
</a>
. All service endpoints require HTTP Basic authentication with your NCI LDAP username and password.
<h2 id="NCICTRPAccrualRESTServiceGuideIncludev4.5-APISpecification">
  API Specification
</h2>
<h3 id="NCICTRPAccrualRESTServiceGuideIncludev4.5-XMLSchema">
  XML Schema
</h3>
The service uses XML for data exchange. All XML elements going in or out of the service are defined and validated against the following XML schema:
<a href="https://github.com/BIAD/ctrp_docs/blob/master/shared/accrual_ws.xsd" rel="nofollow">
  accrual_ws.xsd
</a>
The XML schema is well-annotated with inline documentation that explains the purpose and meaning of various elements, types, and attributes. Specific elements required for service operations are explained in the sections below.
<h3 id="NCICTRPAccrualRESTServiceGuideIncludev4.5-Add/UpdateAccruals-Subject&amp;PartialSubject">
  Add/Update Accruals - Subject &amp; Partial Subject
</h3>
<h4 id="NCICTRPAccrualRESTServiceGuideIncludev4.5-Description">
  Description
</h4>
This operation reports Subject &amp; Partial Subject accrual information for a specific participating site on a study. If the subject accrual record already exists for the specified study and participating site, this operation will update that record accordingly. If you report multiple Subject accrual records all with the same subject ID within the same request, the last record in the list will supplant the others. The submitter must have accrual access to the site.
<h4 id="NCICTRPAccrualRESTServiceGuideIncludev4.5-HTTPMethod">
  HTTP Method
</h4>
PUT
<h4 id="NCICTRPAccrualRESTServiceGuideIncludev4.5-URL">
  URL
</h4>
Three options are available:
<ol>
  <li>
    /sites/{id}
    <ol>
      <li>
        {id}. CTRP numeric identifier of a participating site
      </li>
      <li>
        Example:
        <a href="https://trials-stage.nci.nih.gov/accrual-services/sites/121787425" rel="nofollow">
          https://trials-stage.nci.nih.gov/accrual-services/sites/121787425
        </a>
      </li>
    </ol>
  </li>
  <li>
    /trials/{idType}/{trialID}/sites/po/{id}
    <ol>
      <li>
        {idType}. Type of identifier you want to use to identify a study in CTRP. Possible values: pa, nci, ctep, dcp.
      </li>
      <li>
        {trialID}. Trial identifier value itself
      </li>
      <li>
        {id}. PO identifier of the organization that is the site on the study
      </li>
      <li>
        Example:
        <a href="https://trials-int.nci.nih.gov/accrual-services/trials/nci/NCI-2019-00038/sites/po/7434" rel="nofollow">
          https://trials-int.nci.nih.gov/accrual-services/trials/nci/NCI-2019-00038/sites/po/7434
        </a>
      </li>
    </ol>
  </li>
  <li>
    /trials/{idType}/{trialID}/sites/ctep/{id}
    <ol>
      <li>
        {idType}. Type of identifier you want to use to identify a study in CTRP. Possible values: pa, nci, ctep, dcp.
      </li>
      <li>
        {trialID}. Trial identifier value itself
      </li>
      <li>
        {id}. CTEP identifier of the organization that is the site on the study
      </li>
      <li>
        Example:
        <a href="https://trials-int.nci.nih.gov/accrual-services/trials/nci/NCI-2019-00038/sites/po/7434" rel="nofollow">
          https://trials-int.nci.nih.gov/accrual-services/trials/nci/NCI-2019-00038/sites/ctep/WQ456
        </a>
      </li>
    </ol>
  </li>
</ol>
<h4 id="NCICTRPAccrualRESTServiceGuideIncludev4.5-RequestBody">
  Request Body
</h4>
XML document with studySubjects root element (see XML Schema). MIME Type: application/xml.
<h5 id="NCICTRPAccrualRESTServiceGuideIncludev4.5-Examples-SubjectAccrual">
  Examples - Subject Accrual
</h5>
Request XML:The following XML request shows an example for reporting five study subjects to site 121787425 using ICD9 for disease codes. Note that the &lt;siteDisease&gt; is not required since the disease code used is ICD9.

 Expand source


&lt;tns:studySubjects xmlns:tns=&#34;gov.nih.nci.accrual.webservices.types&#34;
xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34;
xsi:schemaLocation=&#34;gov.nih.nci.accrual.webservices.types ../../src/resources/ws.xsd &#34;&gt;
&lt;tns:studySubject&gt;
&lt;tns:identifier&gt;SU001&lt;/tns:identifier&gt;
&lt;tns:birthDate&gt;2002-01-01&lt;/tns:birthDate&gt;
&lt;tns:gender&gt;Female&lt;/tns:gender&gt;
&lt;tns:race&gt;Black or African American&lt;/tns:race&gt;
&lt;tns:ethnicity&gt;Not Hispanic or Latino&lt;/tns:ethnicity&gt;
&lt;tns:country&gt;USA&lt;/tns:country&gt;
&lt;tns:zipCode&gt;22201&lt;/tns:zipCode&gt;
&lt;tns:registrationDate&gt;2014-01-01&lt;/tns:registrationDate&gt;
&lt;tns:methodOfPayment&gt;MEDICAID_AND_MEDICARE&lt;/tns:methodOfPayment&gt;
&lt;tns:disease codeSystem=&#34;ICD9&#34;&gt;861.20&lt;/tns:disease&gt;
&lt;/tns:studySubject&gt;
&lt;tns:studySubject&gt;
&lt;tns:identifier&gt;SU002&lt;/tns:identifier&gt;
&lt;tns:birthDate&gt;2002-01-01&lt;/tns:birthDate&gt;
&lt;tns:gender&gt;Male&lt;/tns:gender&gt;
&lt;tns:race&gt;Native Hawaiian or Other Pacific Islander&lt;/tns:race&gt;
&lt;tns:ethnicity&gt;Not Reported&lt;/tns:ethnicity&gt;
&lt;tns:country&gt;CAN&lt;/tns:country&gt;
&lt;tns:registrationDate&gt;2014-01-01&lt;/tns:registrationDate&gt;
&lt;tns:methodOfPayment&gt;MILITARY_OR_VETERANS&lt;/tns:methodOfPayment&gt;
&lt;tns:disease codeSystem=&#34;ICD9&#34;&gt;861.20&lt;/tns:disease&gt;
&lt;/tns:studySubject&gt;
&lt;tns:studySubject&gt;
&lt;tns:identifier&gt;SU003&lt;/tns:identifier&gt;
&lt;tns:birthDate&gt;2002-01-01&lt;/tns:birthDate&gt;
&lt;tns:gender&gt;Unknown&lt;/tns:gender&gt;
&lt;tns:race&gt;American Indian or Alaska Native&lt;/tns:race&gt;
&lt;tns:race&gt;Asian&lt;/tns:race&gt;
&lt;tns:race&gt;Black or African American&lt;/tns:race&gt;
&lt;tns:race&gt;Native Hawaiian or Other Pacific Islander&lt;/tns:race&gt;
&lt;tns:race&gt;Not Reported&lt;/tns:race&gt;
&lt;tns:race&gt;Unknown&lt;/tns:race&gt;
&lt;tns:race&gt;White&lt;/tns:race&gt;
&lt;tns:ethnicity&gt;Unknown&lt;/tns:ethnicity&gt;
&lt;tns:country&gt;CAN&lt;/tns:country&gt;
&lt;tns:registrationDate&gt;2014-01-01&lt;/tns:registrationDate&gt;
&lt;tns:methodOfPayment&gt;NO_MEANS_OF_PAYMENT&lt;/tns:methodOfPayment&gt;
&lt;tns:disease codeSystem=&#34;ICD9&#34;&gt;861.20&lt;/tns:disease&gt;
&lt;/tns:studySubject&gt;
&lt;tns:studySubject&gt;
&lt;tns:identifier&gt;SU004&lt;/tns:identifier&gt;
&lt;tns:birthDate&gt;2002-01-01&lt;/tns:birthDate&gt;
&lt;tns:gender&gt;Unspecified&lt;/tns:gender&gt;
&lt;tns:race&gt;Native Hawaiian or Other Pacific Islander&lt;/tns:race&gt;
&lt;tns:ethnicity&gt;Not Reported&lt;/tns:ethnicity&gt;
&lt;tns:country&gt;AFG&lt;/tns:country&gt;
&lt;tns:registrationDate&gt;2011-01-01&lt;/tns:registrationDate&gt;
&lt;tns:methodOfPayment&gt;STATE_SUPPLEMENTAL&lt;/tns:methodOfPayment&gt;
&lt;tns:disease codeSystem=&#34;ICD9&#34;&gt;861.20&lt;/tns:disease&gt;
&lt;/tns:studySubject&gt;
&lt;tns:studySubject&gt;
&lt;tns:identifier&gt;SU005&lt;/tns:identifier&gt;
&lt;tns:birthDate&gt;1990-01-01&lt;/tns:birthDate&gt;
&lt;tns:gender&gt;Female&lt;/tns:gender&gt;
&lt;tns:race&gt;American Indian or Alaska Native&lt;/tns:race&gt;
&lt;tns:race&gt;Asian&lt;/tns:race&gt;
&lt;tns:race&gt;Black or African American&lt;/tns:race&gt;
&lt;tns:race&gt;Native Hawaiian or Other Pacific Islander&lt;/tns:race&gt;
&lt;tns:race&gt;Not Reported&lt;/tns:race&gt;
&lt;tns:race&gt;Unknown&lt;/tns:race&gt;
&lt;tns:race&gt;White&lt;/tns:race&gt;
&lt;tns:ethnicity&gt;Hispanic or Latino&lt;/tns:ethnicity&gt;
&lt;tns:country&gt;USA&lt;/tns:country&gt;
&lt;tns:zipCode&gt;22222&lt;/tns:zipCode&gt;
&lt;tns:registrationDate&gt;2014-01-01&lt;/tns:registrationDate&gt;
&lt;tns:methodOfPayment&gt;MANAGED_CARE&lt;/tns:methodOfPayment&gt;
&lt;tns:disease codeSystem=&#34;ICD9&#34;&gt;011.41&lt;/tns:disease&gt;
&lt;/tns:studySubject&gt;
&lt;/tns:studySubjects&gt;


Request XML (Specifying Topography and Morphology codes using ICD-O-3)The following XML request shows an example for reporting one study subject to site 121787425 using ICD-O-3 for the Topography code. Note that when the Topography &lt;codeSystem&gt; = “ICD-O-3”, both the &lt;disease&gt; and the &lt;siteDisease&gt; are mandatory.

 Expand source


&lt;tns:studySubjects xmlns:tns=&#34;gov.nih.nci.accrual.webservices.types&#34;
xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34;
xsi:schemaLocation=&#34;gov.nih.nci.accrual.webservices.types ../../src/resources/ws.xsd &#34;&gt;
&lt;tns:studySubject&gt;
&lt;tns:identifier&gt;SU006&lt;/tns:identifier&gt;
&lt;tns:birthDate&gt;2002-01-01&lt;/tns:birthDate&gt;
&lt;tns:gender&gt;Female&lt;/tns:gender&gt;
&lt;tns:race&gt;Black or African American&lt;/tns:race&gt;
&lt;tns:ethnicity&gt;Not Hispanic or Latino&lt;/tns:ethnicity&gt;
&lt;tns:country&gt;USA&lt;/tns:country&gt;
&lt;tns:zipCode&gt;22201&lt;/tns:zipCode&gt;
&lt;tns:registrationDate&gt;2014-01-01&lt;/tns:registrationDate&gt;
&lt;tns:methodOfPayment&gt;MEDICAID_AND_MEDICARE&lt;/tns:methodOfPayment&gt;
&lt;tns:disease codeSystem=&#34;ICD-O-3&#34;&gt;8012/3&lt;/tns:disease&gt;
&lt;tns:siteDisease codeSystem=&#34;ICD-O-3&#34;&gt;C34.1&lt;/tns:siteDisease&gt;
&lt;/tns:studySubject&gt;
&lt;/tns:studySubjects&gt;



Request XML (Specifying Disease and Site Disease codes using Legacy Codes - CTEP)The following XML request shows an example for reporting one study subject to site 121787425 using Legacy Codes - CTEP for the disease code.

 Expand source


&lt;tns:studySubjects xmlns:tns=&#34;gov.nih.nci.accrual.webservices.types&#34;
xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34;
xsi:schemaLocation=&#34;gov.nih.nci.accrual.webservices.types ../../src/resources/ws.xsd &#34;&gt;
&lt;tns:studySubject&gt;
&lt;tns:identifier&gt;SU007&lt;/tns:identifier&gt;
&lt;tns:birthDate&gt;2002-01-01&lt;/tns:birthDate&gt;
&lt;tns:gender&gt;Female&lt;/tns:gender&gt;
&lt;tns:race&gt;American Indian or Alaska Native&lt;/tns:race&gt;
&lt;tns:ethnicity&gt;Not Hispanic or Latino&lt;/tns:ethnicity&gt;
&lt;tns:country&gt;USA&lt;/tns:country&gt;
&lt;tns:zipCode&gt;22201&lt;/tns:zipCode&gt;
&lt;tns:registrationDate&gt;2014-01-01&lt;/tns:registrationDate&gt;
&lt;tns:methodOfPayment&gt;MANAGED_CARE&lt;/tns:methodOfPayment&gt;
&lt;tns:disease codeSystem=&#34;Legacy Codes - CTEP&#34;&gt;10001418&lt;/tns:disease&gt;
&lt;/tns:studySubject&gt;
&lt;/tns:studySubjects&gt;
<h5 id="NCICTRPAccrualRESTServiceGuideIncludev4.5-Examples-PartialAccrual">
  Examples - Partial Accrual
</h5>
Request XML:The following XML request shows an example for reporting one study subject to site 7434 using ICD-0-3 for the disease code. Note: for ICD-0-3 studies neither &lt;disease&gt; and &lt;siteDisease&gt; are mandatory. However, if &lt;disease&gt; is included then &lt;siteDisease&gt; must be included.

 Expand source


&lt;tns:studySubjects xmlns:tns=&#34;gov.nih.nci.accrual.webservices.types&#34;
xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34;
xsi:schemaLocation=&#34;gov.nih.nci.accrual.webservices.types ../../src/resources/ws.xsd &#34;&gt;
&lt;tns:studySubject&gt;
&lt;tns:identifier&gt;SU100&lt;/tns:identifier&gt;
&lt;tns:registrationDate&gt;2014-01-01&lt;/tns:registrationDate&gt;
&lt;/tns:studySubject&gt;
&lt;/tns:studySubjects&gt;

Request XML:The following XML request shows an example for reporting one study subject to site 7434 using ICD-O-3 for the disease code with &lt;disease&gt; and &lt;siteDisease&gt; included.

 Expand source


&lt;tns:studySubjects xmlns:tns=&#34;gov.nih.nci.accrual.webservices.types&#34;
xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34;
xsi:schemaLocation=&#34;gov.nih.nci.accrual.webservices.types ../../src/resources/ws.xsd &#34;&gt;
&lt;tns:studySubject&gt;
&lt;tns:identifier&gt;SU101&lt;/tns:identifier&gt;
&lt;tns:registrationDate&gt;2014-01-01&lt;/tns:registrationDate&gt;
		&lt;tns:disease codeSystem=&#34;ICD-O-3&#34;&gt;8012/3&lt;/tns:disease&gt;
&lt;tns:siteDisease codeSystem=&#34;ICD-O-3&#34;&gt;C34.1&lt;/tns:siteDisease&gt;
&lt;/tns:studySubject&gt;
&lt;/tns:studySubjects&gt;
<h4 id="NCICTRPAccrualRESTServiceGuideIncludev4.5-ResponseBody">
  Response Body
</h4>
None (if successful) or an error message. MIME Type: text/plain.
<h4 id="NCICTRPAccrualRESTServiceGuideIncludev4.5-HTTPResponseCodes">
  HTTP Response Codes
</h4>
<table>
  <colgroup>
    <col/>
    <col/>
  </colgroup>
  <tbody>
    <tr>
      <th>
        Code
      </th>
      <th>
        Response
      </th>
    </tr>
    <tr>
      <td>
        200
      </td>
      <td>
        Success
      </td>
    </tr>
    <tr>
      <td>
        400
      </td>
      <td>
        Validation error
      </td>
    </tr>
    <tr>
      <td>
        404
      </td>
      <td>
        Participating site not found
      </td>
    </tr>
    <tr>
      <td colspan="1">
        500
      </td>
      <td colspan="1">
        Internal server error
      </td>
    </tr>
  </tbody>
</table>
<h3 id="NCICTRPAccrualRESTServiceGuideIncludev4.5-UpdateAccruals-Summary">
  Update Accruals - Summary
</h3>
<h4 id="NCICTRPAccrualRESTServiceGuideIncludev4.5-Description.1">
  Description
</h4>
This operation updates accrual counts for a participating site on an Abbreviated (Industrial) study.
<h4 id="NCICTRPAccrualRESTServiceGuideIncludev4.5-HTTPMethod.1">
  HTTP Method
</h4>
PUT
<h4 id="NCICTRPAccrualRESTServiceGuideIncludev4.5-URL.1">
  URL
</h4>
Three options are available:
<ol>
  <li>
    /sites/{siteID}/count?count={count}&amp;cutOffDt={cutOffDate}
    <ol>
      <li>
        {siteID}. CTRP numeric identifier of a participating site.
      </li>
      <li>
        {count}. Mandatory parameter. The accrual count for the site.
      </li>
      <li>
        {cutOffDate} . The cut-off date for the accrual count, in the format MM-DD-YYYY.
      </li>
      <li>
        Example:
        <a href="https://trials-stage.nci.nih.gov/accrual-services/accrual-services/sites/28577/count?count=10&amp;cutOffDt=03-10-2015" rel="nofollow">
          https://trials-stage.nci.nih.gov/accrual-services/sites/28577/count?count=10&amp;cutOffDt=03-10-2015
        </a>
      </li>
    </ol>
  </li>
  <li>
    /trials/{idType}/{trialID}/sites/po/{poid}/ count?count={count}&amp;cutOffDt={cutOffDate}
    <ol>
      <li>
        {idType}. Type of identifier you want to use to identify a study in CTRP. Possible values: pa, nci, ctep, dcp.
      </li>
      <li>
        {trialID}. Trial identifier value itself.
      </li>
      <li>
        {poid}. PO identifier of the organization that is the site on the study.
      </li>
      <li>
        {count}. Mandatory parameter. The accrual count for the site.
      </li>
      <li>
        {cutOffDate} . The cut-off date for the accrual count, in the format MM-DD-YYYY.
      </li>
      <li>
        Example:
        <a href="https://trials-int.nci.nih.gov/accrual-services/trials/nci/NCI-2018-03045/sites/po/7434/count?count=10&amp;cutOffDt=03-10-2015" rel="nofollow">
          https://trials-int.nci.nih.gov/accrual-services/trials/nci/NCI-2018-03045/sites/po/7434/count?count=10&amp;cutOffDt=03-10-2015
        </a>
      </li>
    </ol>
  </li>
  <li>
    /trials/{idType}/{trialID}/sites/ctep/{id}/ count?count={count}&amp;cutOffDt={cutOffDate}
    <ol>
      <li>
        {idType}. Type of identifier you want to use to identify a study in CTRP. Possible values: pa, nci, ctep, dcp.
      </li>
      <li>
        {trialID}. Trial identifier value itself.
      </li>
      <li>
        {id}. CTEP identifier of the organization that is the site on the study.
      </li>
      <li>
        {count}. Mandatory parameter. The accrual count for the site.
      </li>
      <li>
        {cutOffDate} . The cut-off date for the accrual count, in the format MM-DD-YYYY.
      </li>
      <li>
        Example:
        <a href="https://trials-int.nci.nih.gov/accrual-services/trials/nci/NCI-2018-03045/sites/ctep/WQ456/count?count=20&amp;cutOffDt=03-10-2015" rel="nofollow">
          https://trials-int.nci.nih.gov/accrual-services/trials/nci/NCI-2018-03045/sites/ctep/WQ456/count?count=20&amp;cutOffDt=03-10-2015
        </a>
      </li>
    </ol>
  </li>
</ol>
<h4 id="NCICTRPAccrualRESTServiceGuideIncludev4.5-RequestBody.1">
  Request Body
</h4>
None.
<h4 id="NCICTRPAccrualRESTServiceGuideIncludev4.5-ResponseBody.1">
  Response Body
</h4>
None (if successful) or an error message. MIME Type: text/plain.
<h4 id="NCICTRPAccrualRESTServiceGuideIncludev4.5-HTTPResponseCodes.1">
  HTTP Response Codes
</h4>
<table>
  <colgroup>
    <col/>
    <col/>
  </colgroup>
  <tbody>
    <tr>
      <th>
        Code
      </th>
      <th>
        Response
      </th>
    </tr>
    <tr>
      <td>
        200
      </td>
      <td>
        Success
      </td>
    </tr>
    <tr>
      <td>
        400
      </td>
      <td>
        Validation error
      </td>
    </tr>
    <tr>
      <td colspan="1">
        401
      </td>
      <td colspan="1">
        Authentication/Authorization Failure: invalid username/password or insufficient permissions to access the service
      </td>
    </tr>
    <tr>
      <td>
        404
      </td>
      <td>
        Participating site/study subject not found
      </td>
    </tr>
    <tr>
      <td colspan="1">
        500
      </td>
      <td colspan="1">
        Internal server error (includes the condition of updating/deleting a study subject that you don&#39;t have accrual access to)
      </td>
    </tr>
  </tbody>
</table>
<h3 id="NCICTRPAccrualRESTServiceGuideIncludev4.5-DeleteStudySubject">
  Delete Study Subject
</h3>
<h4 id="NCICTRPAccrualRESTServiceGuideIncludev4.5-Description.2">
  Description
</h4>
Deletes specific study subject (patient) accrual information from a participating site.
<h4 id="NCICTRPAccrualRESTServiceGuideIncludev4.5-HTTPMethod.2">
  HTTP Method
</h4>
DELETE
<h4 id="NCICTRPAccrualRESTServiceGuideIncludev4.5-URL.2">
  URL
</h4>
Three options are available:
<ol>
  <li>
    /sites/{siteID}/subjects/{subjectID}
    <ol>
      <li>
        {siteID}. CTRP numeric identifier of a participating site
      </li>
      <li>
        {subjectID}. Study subject identifier
      </li>
      <li>
        Example:
        <a href="https://trials-stage.nci.nih.gov/accrual-services/trials/nci/NCI-2014-00233/sites/po/12733422/subjects/SU001" rel="nofollow">
          https://trials-stage.nci.nih.gov/accrual-services/sites/28577/subjects/SU001
        </a>
      </li>
    </ol>
  </li>
  <li>
    /trials/{idType}/{trialID}/sites/po/{poid}/subjects/{subjectID}
    <ol>
      <li>
        {idType}. Type of identifier you want to use to identify a study in CTRP. Possible values: pa, nci, ctep, dcp.
      </li>
      <li>
        {trialID}. Trial identifier value itself
      </li>
      <li>
        {poid}. PO identifier of the organization that is the site on the study
      </li>
      <li>
        {subjectID}. Study subject identifier
      </li>
      <li>
        Example:
        <a href="https://trials-stage.nci.nih.gov/accrual-services/trials/nci/NCI-2014-00233/sites/po/12733422/subjects/SU001" rel="nofollow">
          https://trials-stage.nci.nih.gov/accrual-services/trials/nci/NCI-2014-00233/sites/po/7434/subjects/SU001
        </a>
      </li>
    </ol>
  </li>
  <li>
    /trials/{idType}/{trialID}/sites/ctep/{ctepID}/subjects/{subjectID}
    <ol>
      <li>
        {idType}. Type of identifier you want to use to identify a study in CTRP. Possible values: pa, nci, ctep, dcp .
      </li>
      <li>
        {trialID}. Trial identifier value itself
      </li>
      <li>
        {ctepID}. CTEP identifier of the organization that is the site on the study
      </li>
      <li>
        {subjectID}. Study subject identifier
      </li>
      <li>
        Example:
        <a href="https://trials-stage.nci.nih.gov/accrual-services/trials/nci/NCI-2014-00233/sites/po/12733422/subjects/SU001" rel="nofollow">
          https://trials-stage.nci.nih.gov/accrual-services/trials/nci/NCI-2014-00233/sites/ctep/WQ456/subjects/SU001
        </a>
      </li>
    </ol>
  </li>
</ol>
<h4 id="NCICTRPAccrualRESTServiceGuideIncludev4.5-RequestBody.2">
  Request Body
</h4>
NONE
<h4 id="NCICTRPAccrualRESTServiceGuideIncludev4.5-ResponseBody.2">
  Response Body
</h4>
None (if successful) or an error message. MIME Type: text/plain.
<h4 id="NCICTRPAccrualRESTServiceGuideIncludev4.5-HTTPResponseCodes.2">
  HTTP Response Codes
</h4>
<table>
  <colgroup>
    <col/>
    <col/>
  </colgroup>
  <tbody>
    <tr>
      <th>
        Code
      </th>
      <th>
        Response
      </th>
    </tr>
    <tr>
      <td>
        200
      </td>
      <td>
        Success
      </td>
    </tr>
    <tr>
      <td>
        400
      </td>
      <td>
        Validation error
      </td>
    </tr>
    <tr>
      <td>
        404
      </td>
      <td>
        Study subject not found
      </td>
    </tr>
    <tr>
      <td>
        500
      </td>
      <td>
        Internal server error
      </td>
    </tr>
  </tbody>
</table>
<h3 id="NCICTRPAccrualRESTServiceGuideIncludev4.5-ReportCDUSBatchFileforAsynchronousProcessing">
  Report CDUS Batch File for Asynchronous Processing
</h3>
Refer to the following on batch file formats:
<a href="https://wiki.nci.nih.gov/pages/viewpage.action?pageId=357698110" rel="nofollow">
  Complete Trial Data Record Formats
</a>
,
<a href="https://wiki.nci.nih.gov/pages/viewpage.action?pageId=357698125" rel="nofollow">
  Abbreviated Trial Data Record Formats
</a>
<h4 id="NCICTRPAccrualRESTServiceGuideIncludev4.5-Description.3">
  Description
</h4>
With this operation, you can upload a CDUS batch file. The system processes this file asynchronously and sends the results of processing by email to the reporting user.
<h4 id="NCICTRPAccrualRESTServiceGuideIncludev4.5-HTTPMethod.3">
  HTTP Method
</h4>
Post
<h4 id="NCICTRPAccrualRESTServiceGuideIncludev4.5-URL.3">
  URL
</h4>
/batchExample:
<a href="https://trials-stage.nci.nih.gov/accrual-services/batch" rel="nofollow">
  https://trials-stage.nci.nih.gov/accrual-services/batch
</a>
Content-Type: application/xmlAccept: application/xml
<h4 id="NCICTRPAccrualRESTServiceGuideIncludev4.5-RequestBody.3">
  Request Body
</h4>
XML document with batchFile root element.In this example, consider the following CDUS Accrual information for a typical CDUS Accrual file:
&#34;COLLECTIONS&#34;,&#34;NCI-2014-02593&#34;,,,,,,,,,
&#34;PATIENTS&#34;,&#34;NCI-2014-02593&#34;,&#34;g2&#34;,&#34;20850&#34;,&#34;US&#34;,&#34;198003&#34;,&#34;Male&#34;,&#34;Not Reported&#34;,&#34;Medicaid and Medicare&#34;,&#34;20140930&#34;,,&#34;120894&#34;,,,,,,,,,,&#34;250.02&#34;,,
&#34;PATIENT_RACES&#34;,&#34;NCI-2014-02593&#34;,&#34;g2&#34;,&#34;White&#34;
How to Construct the Body:
<ol>
  <li>
    Convert the CDUS Accrual information to Base64 encoding. You can do so using Base64 Encoding feature in the Notepad++ application. (Other tools can be found here:
    <a href="https://www.google.com/#q=base64+encoding+tool" rel="nofollow">
      https://www.google.com/#q=base64+encoding+tool
    </a>
    <a href="http://www.cancer.gov/policies/linking" rel="nofollow">
      <img alt="Exit Disclaimer logo" src="https://wiki.nci.nih.gov/download/attachments/embedded-page/wikicontent/Exit%20Disclaimer%20to%20Include/exit_small.png?api=v2">
    </a>
    .) If you convert the above example information, the result would be as follows:
    IkNPTExFQ1RJT05TIiwiTkNJLTIwMTQtMDI1OTMiLCwsLCwsLCwsDQoiUEFUSUVOVFMiLCJOQ0ktMjAxNC0wMjU5MyIsImcyIiwiMjA4NTAiLCJVUyIsIjE5ODAwMyIsIk1hbGUiLCJOb3QgUmVwb3J0ZWQiLCJNZWRpY2FpZCBhbmQgTWVkaWNhcmUiLCIyMDE0MDkzMCIsLCIxMjA4OTQiLCwsLCwsLCwsLCIyNTAuMDIiLCwNCiJQQVRJRU5UX1JBQ0VTIiwiTkNJLTIwMTQtMDI1OTMiLCJnMiIsIldoaXRlIg==
  </li>
  <li>
    Insert the Base64 encoded text between &lt;batchFile xmlns=&#34;gov.nih.nci.accrual.webservices.types&#34;&gt; and &lt;/batchFile&gt; tags, as follows:
    &lt;batchFile xmlns=&#34;gov.nih.nci.accrual.webservices.types&#34;&gt;IkNPTExFQ1RJT05TIiwiTkNJLTIwMTQtMDI1OTMiLCwsLCwsLCwsDQoiUEFUSUVOVFMiLCJOQ0ktMjAxNC0wMjU5MyIsImcyIiwiMjA4NTAiLCJVUyIsIjE5ODAwMyIsIk1hbGUiLCJOb3QgUmVwb3J0ZWQiLCJNZWRpY2FpZCBhbmQgTWVkaWNhcmUiLCIyMDE0MDkzMCIsLCIxMjA4OTQiLCwsLCwsLCwsLCIyNTAuMDIiLCwNCiJQQVRJRU5UX1JBQ0VTIiwiTkNJLTIwMTQtMDI1OTMiLCJnMiIsIldoaXRlIg==&lt;/batchFile&gt;
  </li>
</ol>
<h4 id="NCICTRPAccrualRESTServiceGuideIncludev4.5-ResponseBody.3">
  Response Body
</h4>
None (if successful) or an error message. MIME Type: text/plain.